"use strict";(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[812],{99621:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(15861),o=r(87757),a=r.n(o),c=r(77865),i=r.n(c),s=r(334);const p=JSON.parse('{"_j":{"D":"/email","t":"/notifications/:bundleName"}}');var u=(0,c.lazy)((function(){return Promise.all([r.e(410),r.e(252),r.e(736),r.e(807),r.e(542)]).then(r.bind(r,41832))})),l=(0,c.lazy)((function(){return Promise.all([r.e(410),r.e(252),r.e(736),r.e(807),r.e(814),r.e(741)]).then(r.bind(r,45410))})),f=function(){return i().createElement(c.Suspense,{fallback:c.Fragment},i().createElement(s.Switch,null,i().createElement(s.Route,{path:p._j.D,component:u,rootClass:"email"}),i().createElement(s.Route,{path:p._j.t,component:l,rootClass:"notification"}),i().createElement(s.Redirect,{path:"*",to:p._j.D,push:!0})))},E=r(17812),O=r(83215),b=r(51344),d=r(25091);const m=function(e){var t=(0,s.useHistory)();return(0,c.useEffect)((function(){(0,n.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:e.sent||(location.href="./");case 4:case"end":return e.stop()}}),e)})))(),(0,E.z2)({notifications:O.ee}),insights.chrome.init(),insights.chrome.identifyApp("email");var e=insights.chrome.on("APP_NAVIGATION",(function(e){var r=Object.keys(null==d?void 0:d["notification-preference"]);t.push("".concat(r.includes(e.navId)?"/notifications":"","/").concat(e.navId))}));return function(){return e()}}),[]),i().createElement(c.Fragment,null,i().createElement(b.ZP,null),i().createElement(f,{childProps:e}))}},58061:(e,t,r)=>{r.d(t,{aI:()=>u});var n=r(4942);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c="@@EMAIL/GET_SCHEMA",i="@@EMAIL/SAVE_VALUES",s="@@NOTIFICATION/GET_SCHEMA",p="@@NOTIFICATION/SAVE_VALUES",u=["_PENDING","_FULFILLED","_REJECTED"].reduce((function(e,t){var r;return a(a({},e),(r={},(0,n.Z)(r,"".concat(c).concat(t),c),(0,n.Z)(r,"".concat(i).concat(t),i),(0,n.Z)(r,"".concat(s).concat(t),s),(0,n.Z)(r,"".concat(p).concat(t),p),r))}),{GET_EMAIL_SCHEMA:c,SAVE_EMAIL_SCHEMA:i,GET_NOTIFICATION_SCHEMA:s,SAVE_NOTIFICATION_SCHEMA:p})},17812:(e,t,r)=>{r.d(t,{jP:()=>b,S1:()=>j,qS:()=>_,z2:()=>P});var n,o=r(93433),a=r(18546),c=r(57283),i=r.n(c),s=r(45987),p=r(4942),u=r(58061),l=["payload"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,p.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e,t){var r=t.payload,n=t.meta;return E(E({},e),{},(0,p.Z)({},n.appName,{schema:r||[],loaded:!0}))};const b={emailPreferences:(0,a.Gg)((n={},(0,p.Z)(n,u.aI.GET_EMAIL_SCHEMA,O),(0,p.Z)(n,"".concat(u.aI.GET_EMAIL_SCHEMA,"_FULFILLED"),O),(0,p.Z)(n,"".concat(u.aI.GET_EMAIL_SCHEMA,"_PENDING"),(function(e,t){var r=t.meta;return E(E({},e),{},(0,p.Z)({},r.appName,{schema:[],loaded:!1}))})),(0,p.Z)(n,"".concat(u.aI.GET_EMAIL_SCHEMA,"_REJECTED"),(function(e,t){t.payload;var r=(0,s.Z)(t,l);return O(e,r)})),n),{})};var d,m=["payload"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,p.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e,t){var r=t.payload,n=t.meta;return I(I({},e),{},{bundleName:n.bundleName,schema:r||{},loaded:!0})};const _={notificationPreferences:(0,a.Gg)((d={},(0,p.Z)(d,u.aI.GET_NOTIFICATION_SCHEMA,y),(0,p.Z)(d,"".concat(u.aI.GET_NOTIFICATION_SCHEMA,"_FULFILLED"),y),(0,p.Z)(d,"".concat(u.aI.GET_NOTIFICATION_SCHEMA,"_PENDING"),(function(e,t){var r=t.meta;return I(I({},e),{},{bundleName:r.bundleName,schema:{},loaded:!1})})),(0,p.Z)(d,"".concat(u.aI.GET_NOTIFICATION_SCHEMA,"_REJECTED"),(function(e,t){t.payload;var r=(0,s.Z)(t,m);return y(e,r)})),d),{})};var v,A=r(84885);function j(){if(v)throw new Error("store already initialized");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v=new a.ZP({},[i(),(0,A.ZP)({autoDismiss:!0})].concat((0,o.Z)(t.filter((function(e){return void 0!==e})))))}function P(){var e;return(e=v).register.apply(e,arguments)}},25091:e=>{e.exports=JSON.parse('{"email-preference":{"advisor":{"title":"Advisor","url":"/user-preferences/","apiName":"insights","permissions":[{"method":"hasLoosePermissions","args":[["insights:*:*","insights:*:read","advisor:*:*","advisor:*:read","advisor:rules:read"]]}]},"unsubscribe":{"title":"","localFile":"data/unsubscribe.json"}},"notification-preference":{"rhel":{"title":"Red Hat Enterprise Linux","application":"notifications","resourceType":"notification-preference?bundleName=rhel"},"openshift":{"title":"OpenShift","application":"notifications","resourceType":"notification-preference?bundleName=openshift"},"application-services":{"title":"Application Services","application":"notifications","resourceType":"notification-preference?bundleName=application-services"}}}')}}]);
//# sourceMappingURL=../sourcemaps/812.7ae21435c10f6315d966e6bd590e1995.js.map