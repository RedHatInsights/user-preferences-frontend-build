"use strict";(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[741,814],{45410:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(87462),a=n(45987),i=n(93433),s=n(4942),c=n(15861),o=n(87757),l=n.n(o),u=n(77865),f=n.n(u),p=n(86350),m=n(48716),d=n(39173),b=n(334),h=n(57849),v=n(78668),g=n(41387),E=n(81797),y=n(67850),O=n(74209),Z=n(62176),w=n(28216),N=n(20679),k=n(17812),P=n(17814),S=n(83215),j=["unsubscribe"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=function(){var e,t,n=(0,b.useParams)().bundleName,o=(0,v.sJ)(),x=(0,w.I0)(),_=(0,w.v9)((function(e){return e.notificationPreferences})),I=null===(e=(0,v.pU)(n))||void 0===e?void 0:e.title;(0,u.useEffect)((function(){(0,k.z2)(k.qS)}),[]),(0,u.useEffect)((function(){(0,c.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:n&&x((0,N.ux)({bundleName:n}));case 3:case"end":return e.stop()}}),e)})))()}),[n]);var D=(0,u.useMemo)((function(){if(null!=_&&_.loaded){var e=C({},_.schema);return e.fields?(e.fields=(0,i.Z)(e.fields),e.fields[0].sections=(0,i.Z)(e.fields[0].sections),e.fields[0].sections.push({fields:P})):e.fields=[],{isLoaded:!0,schema:e}}return{isLoaded:!1,schema:[]}}),[_]),F=D.isLoaded,G=D.schema,L=(0,u.useCallback)(function(){var e=(0,c.Z)(l().mark((function e(t){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.unsubscribe,r=(0,a.Z)(t,j),i=(0,N.G1)({bundleName:n,values:r}),x(i),e.prev=3,e.next=6,i.payload;case 6:x((0,S.wN)({dismissable:!1,variant:"success",title:"Notification preferences successfully saved"})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),x((0,S.wN)({dismissable:!1,variant:"danger",title:"Notification preferences unsuccessfully saved"}));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),[n]);return f().createElement(f().Fragment,null,f().createElement(m.Z,null,f().createElement(h.Split,null,f().createElement(h.SplitItem,{isFilled:!0},f().createElement(d.Z,{className:"notif-page-header",title:"My Notifications | ".concat(I)}),f().createElement(h.StackItem,null,"This service allows you to opt-in and out of receiving notifications. Your Organization Administrator has configured which notifications you can or can not receive in their"," ",f().createElement("a",{onClick:function(e){return o(e,"/settings/notifications/".concat(n))},href:"/settings/notifications/".concat(n)},"Settings"),".")))),f().createElement(p.Z,{className:"pref-notification"},f().createElement(h.Stack,{hasGutter:!0},f().createElement(h.StackItem,null,f().createElement(h.Card,{ouiaId:"user-pref-notification-subscriptions-card"},f().createElement(h.CardHeader,{className:"pf-u-pb-0"}),f().createElement(h.CardBody,{className:"pref-notification_form"},F?f().createElement(Z.Z,{componentMapper:C(C({},g.ZP),{},(t={},(0,s.Z)(t,E.L5,E.eU),(0,s.Z)(t,E.gI,E.aN),(0,s.Z)(t,E.GZ,E.RN),t)),FormTemplate:function(e){return f().createElement(y.ZP,(0,r.Z)({},e,{FormButtons:O.Z}))},schema:G,onSubmit:L}):f().createElement(h.Bullseye,null,f().createElement(h.Spinner,null))))))))}},17814:e=>{e.exports=JSON.parse('[{"fields":[{"name":"unsubscribe.from-all","isGlobal":true,"label":"Unsubscribe from all","initialValue":false,"component":"descriptiveCheckbox"}]}]')}}]);