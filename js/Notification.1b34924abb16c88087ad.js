"use strict";(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[741],{45410:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(87462),a=n(45987),c=n(93433),s=n(4942),i=n(15861),o=n(87757),l=n.n(o),u=n(77865),f=n.n(u),p=n(86350),m=n(48716),d=n(39173),h=n(334),b=n(57849),v=n(78668),g=n(41387),E=n(81797),y=n(67850),O=n(74209),Z=n(62176),w=n(61084),N=n(20679),k=n(17812),P=n(17814),S=n(83215),j=["unsubscribe"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const x=function(){var e,t,n=(0,h.useParams)().bundleName,o=(0,v.sJ)(),C=(0,w.useDispatch)(),x=(0,w.useSelector)((function(e){return e.notificationPreferences})),D=null===(e=(0,v.pU)(n))||void 0===e?void 0:e.title;(0,u.useEffect)((function(){(0,k.z2)(k.qS)}),[]),(0,u.useEffect)((function(){(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:n&&C((0,N.ux)({bundleName:n}));case 3:case"end":return e.stop()}}),e)})))()}),[n]);var I=(0,u.useMemo)((function(){if(null!=x&&x.loaded){var e=_({},x.schema);return e.fields?(e.fields=(0,c.Z)(e.fields),e.fields[0].sections=(0,c.Z)(e.fields[0].sections),e.fields[0].sections.push({fields:P})):e.fields=[],{isLoaded:!0,schema:e}}return{isLoaded:!1,schema:[]}}),[x]),F=I.isLoaded,L=I.schema,B=(0,u.useCallback)(function(){var e=(0,i.Z)(l().mark((function e(t){var r,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.unsubscribe,r=(0,a.Z)(t,j),c=(0,N.G1)({bundleName:n,values:r}),C(c),e.prev=3,e.next=6,c.payload;case 6:C((0,S.wN)({dismissable:!1,variant:"success",title:"Notification preferences successfully saved"})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),C((0,S.wN)({dismissable:!1,variant:"danger",title:"Notification preferences unsuccessfully saved"}));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),[n]);return f().createElement(f().Fragment,null,f().createElement(m.Z,null,f().createElement(b.Split,null,f().createElement(b.SplitItem,{isFilled:!0},f().createElement(d.Z,{className:"notif-page-header",title:"My Notifications | ".concat(D)}),f().createElement(b.StackItem,null,"This service allows you to opt-in and out of receiving notifications. Your Organization Administrator has configured which notifications you can or can not receive in their",f().createElement("a",{onClick:function(e){return o(e,"/settings/notifications/".concat(n))},href:"/settings/notifications/".concat(n)},"Settings"),".")))),f().createElement(p.Z,{className:"pref-notification"},f().createElement(b.Stack,{hasGutter:!0},f().createElement(b.StackItem,null,f().createElement(b.Card,{ouiaId:"user-pref-notification-subscriptions-card"},f().createElement(b.CardHeader,{className:"pf-u-pb-0"}),f().createElement(b.CardBody,{className:"pref-notification_form"},F?f().createElement(Z.Z,{componentMapper:_(_({},g.ZP),{},(t={},(0,s.Z)(t,E.L5,E.eU),(0,s.Z)(t,E.gI,E.aN),(0,s.Z)(t,E.GZ,E.RN),t)),FormTemplate:function(e){return f().createElement(y.ZP,(0,r.Z)({},e,{FormButtons:O.Z}))},schema:L,onSubmit:B}):f().createElement(b.Bullseye,null,f().createElement(b.Spinner,null))))))))}}}]);
//# sourceMappingURL=../sourcemaps/Notification.5d92ef43c85edd76d3c2c77b4598520c.js.map