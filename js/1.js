(window.webpackJsonp=window.webpackJsonp||[]).push([[1,2],{384:function(e,t,r){"use strict";var n=r(428),o=r(470),i=r(471),s=!!n.create().defaults.headers;function a(e,t){for(var r=e.length,n=0;n<r;n++){var o=e[n];if(t(o))return o}}function c(e){return"[object Function]"===toString.call(e)}function u(e){return null!==e&&"object"==typeof e}function l(e,t){return e?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):t}function f(e,t){return("/"===e[0]?e.substr(1):e)===("/"===t[0]?t.substr(1):t)}function p(e,t,r,n){return["delete","get","head","options"].indexOf(e.toLowerCase())>=0?d(r,n?n.params:void 0):function(e,t){if(void 0===t)return!0;var r;try{r=JSON.parse(e)}catch(e){}return d(r||e,t)}(t,n)}function d(e,t){return void 0===t||("function"==typeof t.asymmetricMatch?t.asymmetricMatch(e):o(e,t))}function h(e,t,r,n){if(!s)return r;var o=new Error(e);return o.isAxiosError=!0,o.config=t,void 0!==r&&(o.response=r),void 0!==n&&(o.code=n),o}e.exports={find:a,findHandler:function(e,t,r,n,o,i,s){return a(e[t.toLowerCase()],(function(e){return"string"==typeof e[0]?(f(r,e[0])||f(l(s,r),e[0]))&&p(t,n,o,e[1])&&d(i,e[2]):e[0]instanceof RegExp?(e[0].test(r)||e[0].test(l(s,r)))&&p(t,n,o,e[1])&&d(i,e[2]):void 0}))},purgeIfReplyOnce:function(e,t){Object.keys(e.handlers).forEach((function(r){var n=e.handlers[r].indexOf(t);n>-1&&e.handlers[r].splice(n,1)}))},settle:function e(t,r,n,o){o>0?setTimeout((function(){e(t,r,n)}),o):n.config&&n.config.validateStatus?n.config.validateStatus(n.status)?t(n):r(h("Request failed with status code "+n.status,n.config,n)):n.status>=200&&n.status<300?t(n):r(n)},isStream:function(e){return u(e)&&c(e.pipe)},isArrayBuffer:function(e){return"[object ArrayBuffer]"===toString.call(e)},isFunction:c,isObjectOrArray:u,isBuffer:i,isEqual:o,createAxiosError:h}},410:function(e,t,r){"use strict";r.r(t),r.d(t,"mock",(function(){return i}));var n=r(371),o=r(468),i=new(r.n(o).a)(n.instance)},468:function(e,t,r){"use strict";var n=r(469),o=r(384),i=["get","post","head","delete","patch","put","options","list"];function s(){return i.reduce((function(e,t){return e[t]=[],e}),{})}function a(){c.call(this),u.call(this)}function c(){this.handlers=s()}function u(){this.history=s()}function l(e,t){a.call(this),e&&(this.axiosInstance=e,this.originalAdapter=e.defaults.adapter,this.delayResponse=t&&t.delayResponse>0?t.delayResponse:null,this.onNoMatch=t&&t.onNoMatch||null,e.defaults.adapter=this.adapter.call(this))}function f(e,t,r){if("any"===e)i.forEach((function(e){t[e].push(r)}));else{var n=function(e,t,r){for(var n=-1,i=0;i<t[e].length;i+=1){var s=t[e][i],a=7===s.length;(s[0]instanceof RegExp&&r[0]instanceof RegExp?String(s[0])===String(r[0]):s[0]===r[0])&&o.isEqual(s[1],r[1])&&o.isEqual(s[2],r[2])&&!a&&(n=i)}return n}(e,t,r);n>-1&&r.length<7?t[e].splice(n,1,r):t[e].push(r)}}l.prototype.adapter=function(){return function(e){var t=this;if(3!==arguments.length)return new Promise((function(r,o){n(t,r,o,e)}));n(t,arguments[0],arguments[1],arguments[2])}.bind(this)},l.prototype.restore=function(){this.axiosInstance&&(this.axiosInstance.defaults.adapter=this.originalAdapter,this.axiosInstance=void 0)},l.prototype.reset=a,l.prototype.resetHandlers=c,l.prototype.resetHistory=u,i.concat("any").forEach((function(e){var t="on"+e.charAt(0).toUpperCase()+e.slice(1);l.prototype[t]=function(t,r,n){var i=this;t=void 0===t?/.*/:t;function s(o,s,a){var c=[t,r,n,o,s,a];return f(e,i.handlers,c),i}function a(o,s,a){var c=[t,r,n,o,s,a,!0];return f(e,i.handlers,c),i}return{reply:s,replyOnce:a,passThrough:function(){var n=[t,r];return f(e,i.handlers,n),i},abortRequest:function(){return s((function(e){var t=o.createAxiosError("Request aborted",e,void 0,"ECONNABORTED");return Promise.reject(t)}))},abortRequestOnce:function(){return a((function(e){var t=o.createAxiosError("Request aborted",e,void 0,"ECONNABORTED");return Promise.reject(t)}))},networkError:function(){return s((function(e){var t=o.createAxiosError("Network Error",e);return Promise.reject(t)}))},networkErrorOnce:function(){return a((function(e){var t=o.createAxiosError("Network Error",e);return Promise.reject(t)}))},timeout:function(){return s((function(e){var t=o.createAxiosError(e.timeoutErrorMessage||"timeout of "+e.timeout+"ms exceeded",e,void 0,"ECONNABORTED");return Promise.reject(t)}))},timeoutOnce:function(){return a((function(e){var t=o.createAxiosError(e.timeoutErrorMessage||"timeout of "+e.timeout+"ms exceeded",e,void 0,"ECONNABORTED");return Promise.reject(t)}))}}}})),e.exports=l,e.exports.default=l},469:function(e,t,r){"use strict";var n=r(384);function o(e,t){return{status:e[0],data:(r=e[1],n.isArrayBuffer(r)||n.isBuffer(r)||n.isStream(r)?r:n.isObjectOrArray(r)?JSON.parse(JSON.stringify(r)):r),headers:e[2],config:t,request:{responseUrl:t.url}};var r}e.exports=function(e,t,r,i){var s=i.url;i.baseURL&&i.url.substr(0,i.baseURL.length)===i.baseURL&&(s=i.url.slice(i.baseURL.length)),delete i.adapter,e.history[i.method].push(i);var a=n.findHandler(e.handlers,i.method,s,i.data,i.params,i.headers,i.baseURL);if(a)if(7===a.length&&n.purgeIfReplyOnce(e,a),2===a.length)e.originalAdapter(i).then(t,r);else if("function"!=typeof a[3])n.settle(t,r,o(a.slice(3),i),e.delayResponse);else{var c=a[3](i);"function"!=typeof c.then?n.settle(t,r,o(c,i),e.delayResponse):c.then((function(s){s.config&&s.status?n.settle(t,r,o([s.status,s.data,s.headers],s.config),0):n.settle(t,r,o(s,i),e.delayResponse)}),(function(t){e.delayResponse>0?setTimeout((function(){r(t)}),e.delayResponse):r(t)}))}else switch(e.onNoMatch){case"passthrough":e.originalAdapter(i).then(t,r);break;default:n.settle(t,r,{status:404,config:i},e.delayResponse)}}},470:function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var s=i[o];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},471:function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},578:function(e,t,r){"use strict";r.r(t),function(e){var t=r(63),n=r.n(t),o=r(123),i=r.n(o),s=r(394),a=r(382),c=r.n(a),u=r(392),l=r(393),f=r(410);describe("getSchema",(function(){it("should return loader",(function(){var e=Object(u.getSchema)();expect(e).toMatchObject(l.loaderField)})),it("should return loader if not loaded",(function(){var e=Object(u.getSchema)({loaded:!1});expect(e).toMatchObject(l.loaderField)})),it("should return schema",(function(){var e={fields:[]},t=Object(u.getSchema)({loaded:!0,schema:e});expect(t).toMatchObject(e)}))})),describe("getSection",(function(){it("should return visible schema",(function(){var e=Object(u.getSection)("first",{isVisible:!0});expect(e).toMatchObject({name:"first",fields:l.loaderField})})),it("should return visible schema from store",(function(){var e={fields:[]},t=Object(u.getSection)("first",{isVisible:!0,title:"Some title"},{loaded:!0,schema:e});expect(t).toMatchObject({label:"Some title",name:"first",fields:e})})),it("should return loader",(function(){var e=Object(u.getSection)(),t=Object(s.mount)(e.label);expect(c()(t)).toMatchSnapshot(),expect(e).toMatchObject({fields:l.loaderField})})),it("should call success function",(function(e){var t=jest.fn(),r=Object(u.getSection)("first",{isVisible:!1},{},t);expect(r).toMatchObject({name:"first",fields:l.loaderField}),setTimeout((function(){expect(t).toHaveBeenCalled(),e()}))}))})),describe("calculatePermissions",(function(){it("should check visibility of one function",i()(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.calculatePermissions)({method:"something"});case 2:t=e.sent,expect(t).toBe(!1);case 4:case"end":return e.stop()}}),e)})))),it("should check visibility of array of functions",i()(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.calculatePermissions)([{method:"something"},{method:"something",args:[!0]}]);case 2:t=e.sent,expect(t).toBe(!1);case 4:case"end":return e.stop()}}),e)})))),it("should calculate visible for one function",i()(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.calculatePermissions)([{method:"something",args:[!0]}]);case 2:t=e.sent,expect(t).toBe(!0);case 4:case"end":return e.stop()}}),e)}))))})),describe("calculateEmailConfig",(function(){it("should not throw error",i()(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.calculateEmailConfig)();case 2:t=e.sent,expect(t).toMatchObject({});case 4:case"end":return e.stop()}}),e)})))),it("should calculate schema with permissions - false",i()(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.mock.onGet("/api*").reply(200,{}),t=Object(u.calculateEmailConfig)({"email-preference":{test:{permissions:{method:"something"}}}}),e.t0=expect,e.next=5,t.test.isVisible;case 5:e.t1=e.sent,(0,e.t0)(e.t1).toBe(!1);case 7:case"end":return e.stop()}}),e)})))),it("should calculate schema with permissions - true",i()(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.mock.onGet("/api/test/v1/user-config/email-preference").reply(200,{}),t=Object(u.calculateEmailConfig)({"email-preference":{test:{permissions:{method:"something",args:[!0]}}}}),e.t0=expect,e.next=5,t.test.isVisible;case 5:e.t1=e.sent,(0,e.t0)(e.t1).toBe(!0);case 7:case"end":return e.stop()}}),e)})))),it("should request localFile",(function(t){f.mock.onGet("/api/test/v1/user-config/email-preference").reply(200,{});var r=jest.fn();Object(u.calculateEmailConfig)({"email-preference":{test:{}}},r),e((function(){expect(r).toHaveBeenCalled(),expect(r.mock.calls[0][0]).toMatchObject({meta:{appName:"test"}}),t()}))})),it("should request localFile",(function(t){var r=jest.fn();Object(u.calculateEmailConfig)({"email-preference":{test:{localFile:"data/general.json"}}},r),e((function(){expect(r).toHaveBeenCalled(),expect(r.mock.calls[0][0]).toMatchObject({payload:{},meta:{appName:"test"}}),t()}))}))}))}.call(this,r(539).setImmediate)}}]);
//# sourceMappingURL=1.js.map