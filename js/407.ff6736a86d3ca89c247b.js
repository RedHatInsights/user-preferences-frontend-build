(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[407],{89279:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(94015),i=r.n(n),a=r(23645),o=r.n(a)()(i());o.push([e.id,".email .pref-c-descriptive-checkbox span{display:block}.email .pref-c-descriptive-checkbox input.pf-c-check__input{margin:0}.email .pref-c-descriptive-checkbox .pref-c-checkbox-label{font-weight:var(--pf-global--FontWeight--bold)}.email .pref-c-descriptive-checkbox .pref-c-checkbox-label-error{color:var(--pf-global--danger-color--200)}.email .pref-c-descriptive-checkbox .pref-c-checkbox-description{font-size:var(--pf-global--FontSize--md);color:var(--pf-global--Color--100)}\n","",{version:3,sources:["webpack://./src/SmartComponents/FormComponents/descriptiveCheckbox.scss"],names:[],mappings:"AAAA,yCACkC,aAAa,CAD/C,4DACqG,QAAQ,CAD7G,2DACkK,8CAA8C,CADhN,iEAC2Q,yCAAyC,CADpT,iEAC+W,wCAAwC,CAAC,kCAAkC",sourcesContent:[".email{\n.pref-c-descriptive-checkbox span{display:block}.pref-c-descriptive-checkbox input.pf-c-check__input{margin:0}.pref-c-descriptive-checkbox .pref-c-checkbox-label{font-weight:var(--pf-global--FontWeight--bold)}.pref-c-descriptive-checkbox .pref-c-checkbox-label-error{color:var(--pf-global--danger-color--200)}.pref-c-descriptive-checkbox .pref-c-checkbox-description{font-size:var(--pf-global--FontSize--md);color:var(--pf-global--Color--100)}\n\n}"],sourceRoot:""}]);const c=o},15418:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(22122),i=r(96156),a=r(41609),o=r.n(a),c=r(77865),s=r.n(c),l=r(48880),p=r(76429),u=r(45697),d=r.n(u),f=r(96315),m=function(e){var t=e.dirtyFieldsSinceLastSubmit,r=e.submitSucceeded,n=e.pristine,i=(0,l.default)().reset,a=o()(t)||!r&&n;return s().createElement(f.ActionGroup,null,s().createElement(f.Button,{className:"pref-email__form-button",type:"submit",ouiaId:"user-pref-primary-button",isDisabled:a,variant:"primary"},"Save"),s().createElement(f.Button,{variant:"link",ouiaId:"user-pref-reset-button",isDisabled:a,onClick:function(){return i()}},"Cancel"))};m.propTypes={dirtyFieldsSinceLastSubmit:d().arrayOf(d().shape((0,i.Z)({},d().string,d().oneOfType([d().string,d().number,d().bool])))),submitSucceeded:d().bool,pristine:d().bool};const v=function(e){return s().createElement(p.Z,{subscription:{pristine:!0,submitSucceeded:!0,dirtyFieldsSinceLastSubmit:!0}},(function(t){return s().createElement(m,(0,n.Z)({},t,e))}))}},3711:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(96315),i=r(77865),a=r.n(i),o=r(56455),c=r(92137),s=r(28481),l=r(87757),p=r.n(l),u=r(50185);const d=function(){var e="https://www.".concat(insights.chrome.isProd?"":"qa.","redhat.com/wapps/ugc/protected/emailChange.html"),t=function(){var e=(0,i.useState)({}),t=(0,s.Z)(e,2),r=t[0],n=t[1];return{isLoaded:(0,u.Z)((0,c.Z)(p().mark((function e(){var t,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:t=e.sent,r=t.identity,n(r.user);case 5:case"end":return e.stop()}}),e)})))),currentUser:r}}(),r=t.isLoaded,l=t.currentUser;return a().createElement(n.Card,{className:"pref-email__info",ouiaId:"user-pref-info-card"},a().createElement(n.CardHeader,null,a().createElement(n.TextContent,null,a().createElement(n.Text,{component:n.TextVariants.h2},"Your information"))),a().createElement(n.CardBody,null,a().createElement(n.DataList,null,a().createElement(n.DataListItem,null,a().createElement(n.DataListItemRow,null,a().createElement(n.DataListItemCells,{className:"pref-u-condensed",dataListCells:[a().createElement(n.DataListCell,{isFilled:!1,className:"pref-c-title pref-u-bold pref-u-condensed",key:"email-title"},"Email address"),a().createElement(n.DataListCell,{isFilled:!0,key:"email-value",className:"pref-email__info-user-email pref-u-condensed"},r?a().createElement(i.Fragment,null,a().createElement("span",null,l.email),a().createElement("a",{rel:"noopener noreferrer",target:"_blank",href:e},"Not correct?")):a().createElement(o.Z,{size:"lg"}))]}))))))}},50185:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(92137),i=r(28481),a=r(87757),o=r.n(a),c=r(77865);const s=function(e){var t=(0,c.useState)(!1),r=(0,i.Z)(t,2),a=r[0],s=r[1];return(0,c.useEffect)((function(){(0,n.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:s(!0);case 3:case"end":return t.stop()}}),t)})))()}),[]),a}},1598:(e,t,r)=>{"use strict";r.d(t,{GZ:()=>_,L5:()=>D,RN:()=>P,eU:()=>y,gI:()=>w,aN:()=>k});var n=r(22122),i=r(96156),a=r(81253),o=r(77865),c=r.n(o),s=r(96315),l=r(94184),p=r.n(l),u=r(45697),d=r.n(u),f=r(48880),m=r(41693);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(13192);var b=function(e){var t=(0,m.Z)(h(h({},e),{},{type:"checkbox"})),r=t.label,i=t.title,o=t.description,l=t.isDanger,u=t.isGlobal,d=t.input,v=d.onChange,b=(0,a.Z)(d,["onChange"]),y=(0,f.default)();return c().createElement(s.Checkbox,(0,n.Z)({},b,{isChecked:b.checked,id:"descriptive-checkbox-".concat(b.name),onChange:function(){u?y.batch((function(){y.getRegisteredFields().forEach((function(e){"boolean"==typeof y.getFieldState(e).value&&y.change(e,!1)}))})):y.change("unsubscribe.from-all",!1),v.apply(void 0,arguments)},"data-type":"descriptive-checkbox",className:"pref-c-descriptive-checkbox",label:c().createElement("span",{className:p()("pref-c-checkbox-label",{"pref-c-checkbox-label-error":l||u})},r||i)},o&&{description:c().createElement("span",{className:"pref-c-checkbox-description"},o)}))};b.propTypes={FieldProvider:d().any,formOptions:d().any,name:d().string,label:d().string,title:d().string,description:d().string,isDanger:d().bool,isGlobal:d().bool},b.defaultProps={name:"",label:"",isDanger:!1};const y=b;var g=r(56455),C=function(e){e.name;var t=e.size,r=(e.FieldProvider,e.validate,e.FormSpyProvider,e.formOptions,(0,a.Z)(e,["name","size","FieldProvider","validate","FormSpyProvider","formOptions"]));return c().createElement("div",r,c().createElement(g.Z,{size:t}))};C.propTypes={FieldProvider:d().any,formOptions:d().any,FormSpyProvider:d().any,validate:d().any,name:d().string,size:d().string},C.defaultProps={name:"",size:"md"};const k=C;var E=r(6610),A=r(5991),x=r(63349),O=r(10379),S=r(46070),Z=r(77608);var N=function(e){(0,O.Z)(a,e);var t,r,n=(t=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,Z.Z)(t);if(r){var i=(0,Z.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,S.Z)(this,e)});function a(){var e;(0,E.Z)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),(0,i.Z)((0,x.Z)(e),"state",{hasError:!1}),e}return(0,A.Z)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:t})}},{key:"render",value:function(){var e=this.props,t=e.fieldsKey,r=e.label,n=e.fields,i=e.formOptions,a=this.state.hasError;return c().createElement(s.DataListItemRow,null,c().createElement(s.DataListItemCells,{dataListCells:[c().createElement(s.DataListCell,{isFilled:!1,className:"pref-c-title pref-u-bold",key:"".concat(t,"-title")},0===t?r:""),c().createElement(s.DataListCell,{isFilled:!0,key:"".concat(t,"-content")},a?"Error while mapping fields, please check your schema if it has valid component types":null==i?void 0:i.renderForm(n,i))]}))}}]),a}(o.Component);N.propTypes={fieldsKey:d().oneOfType([d().string,d().number]),fields:d().array,FieldProvider:d().any,formOptions:d().any,label:d().node,name:d().string,validate:d().any,FormSpyProvider:d().any};var F=function(e){var t=(0,m.Z)(e),r=t.sections,i=t.label,a=t.name,o=(0,f.default)();return c().createElement(s.DataList,(0,n.Z)({"aria-label":i||a},e),r.map((function(e,t){var r=e.label,n=e.fields,i=Array.isArray(n)?n:[n];return i.length>0&&c().createElement(s.DataListItem,{name:a,key:t,"aria-labelledby":"simple-item1"},i.map((function(e,n){var i=e.fields;return c().createElement(N,{key:"".concat(t,"-").concat(n),fieldsKey:n,label:r,fields:i,formOptions:o})})))})))};F.propTypes={sections:d().array,FieldProvider:d().any,formOptions:d().any,label:d().node,name:d().string,validate:d().any,FormSpyProvider:d().any};const P=F;var D="descriptiveCheckbox",w="loader",_="section"},66516:(e,t,r)=>{"use strict";r.d(t,{Re:()=>m,ux:()=>d,fj:()=>v,G1:()=>f});var n=r(92137),i=r(87757),a=r.n(i),o=r(77460);o.ZP.interceptors.response.use((function(e){var t;if(null!=e&&null!==(t=e.config)&&void 0!==t&&t.data)try{return JSON.parse(e.config.data)}catch(t){return e.config.data}return e}));var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v1",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0;return o.ZP.get("/api/".concat(e,"/").concat(t).concat(n||"/user-config/".concat(r)))},s=function(){var e=(0,n.Z)(a().mark((function e(t,r){var n,i,c,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"v1",i=s.length>3&&void 0!==s[3]?s[3]:"",c=s.length>4?s[4]:void 0,e.abrupt("return",o.ZP.post("/api/".concat(t,"/").concat(n).concat(c||"/user-config/".concat(i)),r));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=r(8969),p=r(54084),u=function(e){var t;return null===(t=p["notification-preference"])||void 0===t?void 0:t[e]},d=function(e){var t,r,n=e.bundleName,i=e.apiVersion;return{type:l.aI.GET_NOTIFICATION_SCHEMA,payload:c(null===(t=u(n))||void 0===t?void 0:t.application,i,null===(r=u(n))||void 0===r?void 0:r.resourceType),meta:{bundleName:n,notifications:{rejected:{variant:"danger",title:"Request for user's configuration failed",description:"User's configuration notification for this bundle does not exist."}}}}},f=function(e){var t,r,n=e.bundleName,i=e.values,a=e.apiVersion;return{type:l.aI.SAVE_NOTIFICATION_SCHEMA,payload:s(null===(t=u(n))||void 0===t?void 0:t.application,i,a,null===(r=u(n))||void 0===r?void 0:r.resourceType),meta:{bundleName:n,noError:!0}}},m=function(e){var t,r,n=e.application,i=e.apiVersion,a=e.resourceType,o=void 0===a?"email-preference":a,s=e.schema,u=e.url,d=e.apiName;return{type:l.aI.GET_EMAIL_SCHEMA,payload:s||c(d||n,i,o,u),meta:{appName:n,notifications:{rejected:{variant:"danger",title:"Request for user's configuration failed",description:"User's configuration email for ".concat(null===(t=p["email-preference"])||void 0===t||null===(r=t[n])||void 0===r?void 0:r.title," application does not exist.")}}}}},v=function(e){var t,r,n=e.application,i=e.values,a=e.apiVersion,o=e.resourceType,c=void 0===o?"email-preference":o,u=e.url,d=e.apiName;return{type:l.aI.SAVE_EMAIL_SCHEMA,payload:s(d||n,i,a,c,u),meta:{appName:n,title:null===(t=p["email-preference"])||void 0===t||null===(r=t[n])||void 0===r?void 0:r.title,noError:!0}}}},13192:(e,t,r)=>{"use strict";var n=r(93379),i=r.n(n),a=r(89279),o=i()(a.default,{insert:"head",singleton:!1});if(!a.default.locals||e.hot.invalidate){var c=a.default.locals;e.hot.accept(89279,(t=>{a=r(89279),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(c,a.default.locals)?(c=a.default.locals,o(a.default)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),a.default.locals},54084:e=>{"use strict";e.exports=JSON.parse('{"email-preference":{"advisor":{"title":"Advisor","url":"/user-preferences/","apiName":"insights","permissions":[{"method":"hasLoosePermissions","args":[["insights:*:*","insights:*:read","advisor:*:*","advisor:*:read","advisor:rules:read"]]}]},"policies":{"title":"Policies","permissions":[{"method":"!isBeta"},{"method":"hasPermissions","args":[["policies:*:*"]]}]},"notifications":{"title":"Notifications (Beta)","permissions":[{"method":"isBeta"}]},"unsubscribe":{"title":"","localFile":"data/unsubscribe.json"}},"notification-preference":{"rhel":{"title":"Red Hat Enterprise Linux","application":"notifications","resourceType":"notification-preference?bundleName=rhel"},"openshift":{"title":"OpenShift","application":"notifications","resourceType":"notification-preference?bundleName=openshift"}}}')}}]);
//# sourceMappingURL=407.ff6736a86d3ca89c247b.js.map