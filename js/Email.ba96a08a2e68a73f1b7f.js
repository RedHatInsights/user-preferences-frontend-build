(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[542],{41195:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(94015),n=r.n(a),i=r(23645),l=r.n(i)()(n());l.push([e.id,".user-preferences .pref-email .pref-email__subs-info{padding-bottom:0}.user-preferences .pref-email .pf-c-data-list{border:0}.user-preferences .pref-email .pf-c-data-list .pref-c-title{min-width:155px;max-width:155px}.user-preferences .pref-email .pf-c-data-list .pf-c-data-list__item:last-of-type{border:0}.user-preferences .pref-email .pf-c-data-list .pf-c-data-list__item-content.pref-u-condensed{padding-top:0;padding-bottom:0}.user-preferences .pref-email .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*{padding-bottom:var(--pf-global--spacer--md)}.user-preferences .pref-email .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*:last-child{padding-bottom:0}.user-preferences .pref-email .pf-c-data-list .pf-c-data-list__item-row{padding-left:0}.user-preferences .pref-email .pf-c-data-list .pref-email__info-user-email{padding-left:19px}.user-preferences .pref-email .pf-c-data-list .pref-email__info-user-email a{padding-left:var(--pf-global--gutter)}.user-preferences .pref-email .pref-u-bold{font-weight:var(--pf-global--FontWeight--bold)}.user-preferences .pref-email div.pref-u-condensed{padding-top:var(--pf-global--spacer--sm);padding-bottom:0}.user-preferences .pref-email .pref-email__form-button{margin-right:16px}@media screen and (max-width: 768px){.user-preferences .pref-email .pf-c-data-list .pref-email__info-user-email{padding-left:0}.user-preferences .pref-email .pf-c-data-list .pref-email__info-user-email.pf-c-data-list__cell span{padding-bottom:var(--pf-global--spacer--sm)}.user-preferences .pref-email .pf-c-data-list .pref-email__info-user-email>*{display:block}.user-preferences .pref-email .pf-c-data-list .pref-email__info-user-email a{padding-left:0}.user-preferences .pref-email .pref-email__info .pf-c-card__body .pf-l-flex>div:first-of-type{flex-grow:0;flex-basis:100%}.user-preferences .pref-email .pref-email__info .pf-c-card__body .pf-l-flex .pref-email_loader span{margin-left:0}.user-preferences .pref-email .pf-c-data-list__item:last-of-type .pf-c-data-list__cell:last-of-type{padding-top:var(--pf-global--spacer--lg)}.user-preferences .pref-email ul.pf-c-data-list .pf-c-data-list__item div.pf-c-data-list__cell.pref-u-condensed{padding-top:0;padding-bottom:0}}\n","",{version:3,sources:["webpack://./src/PresentationalComponents/Email/email.scss"],names:[],mappings:"AAAA,qDACmC,gBAAgB,CADnD,8CACgF,QAAQ,CADxF,4DACmI,eAAe,CAAC,eAAe,CADlK,iFACkO,QAAQ,CAD1O,6FACsT,aAAa,CAAC,gBAAgB,CADpV,oGACua,2CAA2C,CADld,+GACgjB,gBAAgB,CADhkB,wEACunB,cAAc,CADroB,2EAC+rB,iBAAiB,CADhtB,6EAC4wB,qCAAqC,CADjzB,2CAC20B,8CAA8C,CADz3B,mDAC25B,wCAAwC,CAAC,gBAAgB,CADp9B,uDAC0/B,iBAAiB,CAAC,qCAD5gC,2EAC0mC,cAAc,CADxnC,qGAC4sC,2CAA2C,CADvvC,6EACmzC,aAAa,CADh0C,6EAC43C,cAAc,CAD14C,8FACu9C,WAAW,CAAC,eAAe,CADl/C,oGACqkD,aAAa,CADllD,oGACqqD,wCAAwC,CAD7sD,gHAC4yD,aAAa,CAAC,gBAAgB,CAAE",sourcesContent:[".user-preferences{\n.pref-email .pref-email__subs-info{padding-bottom:0}.pref-email .pf-c-data-list{border:0}.pref-email .pf-c-data-list .pref-c-title{min-width:155px;max-width:155px}.pref-email .pf-c-data-list .pf-c-data-list__item:last-of-type{border:0}.pref-email .pf-c-data-list .pf-c-data-list__item-content.pref-u-condensed{padding-top:0;padding-bottom:0}.pref-email .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*{padding-bottom:var(--pf-global--spacer--md)}.pref-email .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*:last-child{padding-bottom:0}.pref-email .pf-c-data-list .pf-c-data-list__item-row{padding-left:0}.pref-email .pf-c-data-list .pref-email__info-user-email{padding-left:19px}.pref-email .pf-c-data-list .pref-email__info-user-email a{padding-left:var(--pf-global--gutter)}.pref-email .pref-u-bold{font-weight:var(--pf-global--FontWeight--bold)}.pref-email div.pref-u-condensed{padding-top:var(--pf-global--spacer--sm);padding-bottom:0}.pref-email .pref-email__form-button{margin-right:16px}@media screen and (max-width: 768px){.pref-email .pf-c-data-list .pref-email__info-user-email{padding-left:0}.pref-email .pf-c-data-list .pref-email__info-user-email.pf-c-data-list__cell span{padding-bottom:var(--pf-global--spacer--sm)}.pref-email .pf-c-data-list .pref-email__info-user-email>*{display:block}.pref-email .pf-c-data-list .pref-email__info-user-email a{padding-left:0}.pref-email .pref-email__info .pf-c-card__body .pf-l-flex>div:first-of-type{flex-grow:0;flex-basis:100%}.pref-email .pref-email__info .pf-c-card__body .pf-l-flex .pref-email_loader span{margin-left:0}.pref-email .pf-c-data-list__item:last-of-type .pf-c-data-list__cell:last-of-type{padding-top:var(--pf-global--spacer--lg)}.pref-email ul.pf-c-data-list .pf-c-data-list__item div.pf-c-data-list__cell.pref-u-condensed{padding-top:0;padding-bottom:0}}\n\n}"],sourceRoot:""}]);const s=l},89279:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(94015),n=r.n(a),i=r(23645),l=r.n(i)()(n());l.push([e.id,".user-preferences .pref-c-descriptive-checkbox span{display:block}.user-preferences .pref-c-descriptive-checkbox input.pf-c-check__input{align-self:start;margin-top:var(--pf-global--spacer--xs)}.user-preferences .pref-c-descriptive-checkbox .pref-c-checkbox-label{font-weight:var(--pf-global--FontWeight--bold)}.user-preferences .pref-c-descriptive-checkbox .pref-c-checkbox-label-error{color:var(--pf-global--danger-color--200)}.user-preferences .pref-c-descriptive-checkbox .pref-c-checkbox-description{font-size:var(--pf-global--FontSize--md);color:var(--pf-global--Color--100)}\n","",{version:3,sources:["webpack://./src/SmartComponents/FormComponents/descriptiveCheckbox.scss"],names:[],mappings:"AAAA,oDACkC,aAAa,CAD/C,uEACqG,gBAAgB,CAAC,uCAAuC,CAD7J,sEACkN,8CAA8C,CADhQ,4EAC2T,yCAAyC,CADpW,4EAC+Z,wCAAwC,CAAC,kCAAkC",sourcesContent:[".user-preferences{\n.pref-c-descriptive-checkbox span{display:block}.pref-c-descriptive-checkbox input.pf-c-check__input{align-self:start;margin-top:var(--pf-global--spacer--xs)}.pref-c-descriptive-checkbox .pref-c-checkbox-label{font-weight:var(--pf-global--FontWeight--bold)}.pref-c-descriptive-checkbox .pref-c-checkbox-label-error{color:var(--pf-global--danger-color--200)}.pref-c-descriptive-checkbox .pref-c-checkbox-description{font-size:var(--pf-global--FontSize--md);color:var(--pf-global--Color--100)}\n\n}"],sourceRoot:""}]);const s=l},6874:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ae});var a=r(96156),n=r(22122),i=r(81253),l=r(92137),s=r(28481),o=r(87757),c=r.n(o),p=r(77865),f=r.n(p),u=(r(97869),r(61084)),d=r(10589),m=r(86350),b=r(48716),v=r(39173),g=r(56455),h=r(96315),A=r(82476),C=r(94184),y=r.n(C),_=r(45697),E=r.n(_),x=r(48880),k=r(41693);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(13192);var D=function(e){var t=(0,k.Z)(w(w({},e),{},{type:"checkbox"})),r=t.label,a=t.title,l=t.description,s=t.isDanger,o=t.isGlobal,c=t.input,p=c.onChange,u=(0,i.Z)(c,["onChange"]),d=(0,x.default)();return f().createElement(h.Checkbox,(0,n.Z)({},u,{isChecked:u.checked,id:"descriptive-checkbox-".concat(u.name),onChange:function(){o?d.batch((function(){d.getRegisteredFields().forEach((function(e){"boolean"==typeof d.getFieldState(e).value&&d.change(e,!1)}))})):d.change("unsubscribe.from-all",!1),p.apply(void 0,arguments)},"data-type":"descriptive-checkbox",className:"pref-c-descriptive-checkbox",label:f().createElement("span",{className:y()("pref-c-checkbox-label",{"pref-c-checkbox-label-error":s||o})},r||a)},l&&{description:f().createElement("span",{className:"pref-c-checkbox-description"},l)}))};D.propTypes={FieldProvider:E().any,formOptions:E().any,name:E().string,label:E().string,title:E().string,description:E().string,isDanger:E().bool,isGlobal:E().bool},D.defaultProps={name:"",label:"",isDanger:!1};const P=D;var Z=function(e){e.name;var t=e.size,r=(e.FieldProvider,e.validate,e.FormSpyProvider,e.formOptions,(0,i.Z)(e,["name","size","FieldProvider","validate","FormSpyProvider","formOptions"]));return f().createElement("div",r,f().createElement(g.Z,{size:t}))};Z.propTypes={FieldProvider:E().any,formOptions:E().any,FormSpyProvider:E().any,validate:E().any,name:E().string,size:E().string},Z.defaultProps={name:"",size:"md"};const j=Z;var F=r(6610),S=r(5991),B=r(63349),N=r(10379),L=r(46070),T=r(77608);var I=function(e){(0,N.Z)(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,T.Z)(t);if(r){var n=(0,T.Z)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,L.Z)(this,e)});function i(){var e;(0,F.Z)(this,i);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=n.call.apply(n,[this].concat(r)),(0,a.Z)((0,B.Z)(e),"state",{hasError:!1}),e}return(0,S.Z)(i,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:t})}},{key:"render",value:function(){var e=this.props,t=e.fieldsKey,r=e.label,a=e.fields,n=e.formOptions,i=this.state.hasError;return f().createElement(h.DataListItemRow,null,f().createElement(h.DataListItemCells,{dataListCells:[f().createElement(h.DataListCell,{isFilled:!1,className:"pref-c-title pref-u-bold",key:"".concat(t,"-title")},0===t?r:""),f().createElement(h.DataListCell,{isFilled:!0,key:"".concat(t,"-content")},i?"Error while mapping fields, please check your schema if it has valid component types":null==n?void 0:n.renderForm(a,n))]}))}}]),i}(p.Component);I.propTypes={fieldsKey:E().oneOfType([E().string,E().number]),fields:E().array,FieldProvider:E().any,formOptions:E().any,label:E().node,name:E().string,validate:E().any,FormSpyProvider:E().any};var V=function(e){var t=(0,k.Z)(e),r=t.sections,a=t.label,i=t.name,l=(0,x.default)();return f().createElement(h.DataList,(0,n.Z)({"aria-label":a||i},e),r.map((function(e,t){var r=e.label,a=e.fields,n=Array.isArray(a)?a:[a];return n.length>0&&f().createElement(h.DataListItem,{name:i,key:t,"aria-labelledby":"simple-item1"},n.map((function(e,a){var n=e.fields;return f().createElement(I,{key:"".concat(t,"-").concat(a),fieldsKey:a,label:r,fields:n,formOptions:l})})))})))};V.propTypes={sections:E().array,FieldProvider:E().any,formOptions:E().any,label:E().node,name:E().string,validate:E().any,FormSpyProvider:E().any};const z=V;var q="loader",G="section",R=r(54084),W=r(27655),M=r(77460);M.ZP.interceptors.response.use((function(e){var t;if(null!=e&&null!==(t=e.config)&&void 0!==t&&t.data)try{return JSON.parse(e.config.data)}catch(t){return e.config.data}return e}));var U,H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v1",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;return M.ZP.get("/api/".concat(e,"/").concat(t).concat(a||"/user-config/".concat(r)))},Q=function(){var e=(0,l.Z)(c().mark((function e(t,r){var a,n,i,l=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]?l[2]:"v1",n=l.length>3&&void 0!==l[3]?l[3]:"",i=l.length>4?l[4]:void 0,e.abrupt("return",M.ZP.post("/api/".concat(t,"/").concat(a).concat(i||"/user-config/".concat(n)),r));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),K=r(8969),J=function(e){var t,r,a=e.application,n=e.apiVersion,i=e.resourceType,l=void 0===i?"email-preference":i,s=e.schema,o=e.url,c=e.apiName;return{type:K.aI.GET_EMAIL_SCHEMA,payload:s||H(c||a,n,l,o),meta:{appName:a,notifications:{rejected:{variant:"danger",title:"Request for user user's configuration failed",description:"User's configuration email for ".concat(null===(t=R["email-preference"])||void 0===t||null===(r=t[a])||void 0===r?void 0:r.title," application does not exist.")}}}}},Y=function(e){var t,r,a=e.application,n=e.values,i=e.apiVersion,l=e.resourceType,s=void 0===l?"email-preference":l,o=e.url,c=e.apiName;return{type:K.aI.SAVE_EMAIL_SCHEMA,payload:Q(c||a,n,i,s,o),meta:{appName:a,title:null===(t=R["email-preference"])||void 0===t||null===(r=t[a])||void 0===r?void 0:r.title,noError:!0}}},X=r(85061),$=[{fields:[{component:q}]}],ee=r(83215);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae,ne,ie=function(e){return e&&e.loaded?e.schema:$},le=(ae=re(re({},null===(U=insights.chrome)||void 0===U?void 0:U.visibilityFunctions),{},{hasLoosePermissions:(ne=(0,l.Z)(c().mark((function e(){var t,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:[],e.next=3,insights.chrome.getUserPermissions();case 3:return r=e.sent,e.abrupt("return",t.some((function(e){return null==r?void 0:r.find((function(t){return t.permission===e}))})));case 5:case"end":return e.stop()}}),e)}))),function(){return ne.apply(this,arguments)})}),re(re({},ae),Object.fromEntries(Object.keys(ae).map((function(e){return["!".concat(e),function(){return!ae[e].apply(ae,arguments)}]}))))),se=function(e){return Promise.all([e].flat().map((function(e){var t,r=e.method,a=e.args;return null==le||null===(t=le[r])||void 0===t?void 0:t.call.apply(t,[le].concat((0,X.Z)(a||[])))}))).then((function(e){return e.every(Boolean)}))},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{"email-preference":{}},t=e["email-preference"],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return Object.entries(t).map((function(e){var t=(0,s.Z)(e,2),o=t[0],p=t[1],f=p.permissions,u=p.url,d=p.apiName,m=p.apiVersion,b=p.localFile,v=(0,i.Z)(p,["permissions","url","apiName","apiVersion","localFile"]),g=!f||se(f);return(0,l.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(g);case 2:if(!e.sent){e.next=12;break}if(!b){e.next=11;break}return e.next=7,r(40118)("./".concat(b));case 7:t=e.sent.default,n(J({schema:t,application:o})),e.next=12;break;case 11:n(J({application:o,url:u,apiName:d,apiVersion:m}));case 12:case"end":return e.stop()}}),e)})))(),(0,a.Z)({},o,re({localFile:b,isVisible:g,url:u,apiName:d,apiVersion:m},v))})).reduce((function(e,t){return re(re({},e),t)}),{})},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"".concat(e.slice(0,e.length-(e.length>1)).join(", ")).concat(e.length>=2?" and ".concat(e[e.length-1]):"")},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.allSettled(e.map((function(e){return e.promise}))).then((function(t){return t.reduce((function(t,r,n){var i,l,s=r.value;return re(re({},t),{},(0,a.Z)({},s?"success":"error",[].concat((0,X.Z)(t[s?"success":"error"]),[null===(i=e[n])||void 0===i||null===(l=i.meta)||void 0===l?void 0:l.title])))}),{success:[],error:[]})}))},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];0!==r.length&&0!==t.length&&(e((0,ee.wN)({dismissable:!1,variant:"success",title:"Email preferences for ".concat(ce(t)," successfully saved")})),e((0,ee.wN)({dismissable:!1,variant:"danger",title:"Email preferences for ".concat(ce(r)," unsuccessfully saved")}))),0===r.length&&0!==t.length&&e((0,ee.wN)({dismissable:!1,variant:"success",title:"Preferences successfully saved"})),0!==r.length&&0===t.length&&e((0,ee.wN)({dismissable:!1,variant:"danger",title:"Preferences unsuccessfully saved"}))},ue=r(41609),de=r.n(ue),me=r(76429),be=function(e){var t=e.dirtyFieldsSinceLastSubmit,r=e.submitSucceeded,a=e.pristine,n=(0,x.default)().reset,i=de()(t)||!r&&a;return f().createElement(h.ActionGroup,null,f().createElement(h.Button,{className:"pref-email__form-button",type:"submit",ouiaId:"user-pref-primary-button",isDisabled:i,variant:"primary"},"Save"),f().createElement(h.Button,{variant:"link",ouiaId:"user-pref-reset-button",isDisabled:i,onClick:function(){return n()}},"Cancel"))};be.propTypes={dirtyFieldsSinceLastSubmit:E().arrayOf(E().shape((0,a.Z)({},E().string,E().oneOfType([E().string,E().number,E().bool])))),submitSucceeded:E().bool,pristine:E().bool};const ve=function(e){return f().createElement(me.Z,{subscription:{pristine:!0,submitSucceeded:!0,dirtyFieldsSinceLastSubmit:!0}},(function(t){return f().createElement(be,(0,n.Z)({},t,e))}))};function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ae=function(){var e,t=(0,p.useState)({}),r=(0,s.Z)(t,2),o=r[0],C=r[1],y=(0,p.useState)({}),_=(0,s.Z)(y,2),E=_[0],x=_[1],k=(0,p.useState)(!1),O=(0,s.Z)(k,2),w=O[0],D=O[1],Z=(0,u.useDispatch)();(0,p.useEffect)((function(){(0,l.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,W.z2)(W.jP),e.next=3,insights.chrome.auth.getUser();case 3:return t=e.sent,r=t.identity,x(r.user),e.t0=C,e.next=9,oe(R,Z);case 9:e.t1=e.sent,(0,e.t0)(e.t1),D(!0);case 12:case"end":return e.stop()}}),e)})))()}),[]);var F=(0,u.useSelector)((function(e){return e.emailPreferences})),S=function(){var e=(0,l.Z)(c().mark((function e(t){var r,a,n,l,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.unsubscribe,r=(0,i.Z)(t,["unsubscribe"]),a=Object.entries(o).filter((function(e){return!0===(0,s.Z)(e,2)[1].isVisible})).map((function(e){var t,a,n=(0,s.Z)(e,2),i=n[0],l=n[1],o=l.localFile,c=l.schema,p=l.url,f=l.apiName;if(!o&&!c&&null!=F&&null!==(t=F[i])&&void 0!==t&&t.schema&&Object.keys(null==F||null===(a=F[i])||void 0===a?void 0:a.schema).length>0){var u=Y({application:i,values:r,url:p,apiName:f});return Z(u),{promise:u.payload,meta:u.meta}}})).filter(Boolean),e.next=4,pe(a);case 4:n=e.sent,l=n.success,p=n.error,fe(Z,l,p);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B="https://www.".concat(insights.chrome.isProd?"":"qa.","redhat.com/wapps/ugc/protected/emailChange.html");return f().createElement(f().Fragment,null,f().createElement(b.Z,null,f().createElement(v.Z,{title:"Email preferences"})),f().createElement(m.Z,{className:"pref-email"},f().createElement(h.Stack,{hasGutter:!0},f().createElement(h.StackItem,null,f().createElement(h.Card,{className:"pref-email__info",ouiaId:"user-pref-info-card"},f().createElement(h.CardHeader,null,f().createElement(h.TextContent,null,f().createElement(h.Text,{component:h.TextVariants.h2},"Your information"))),f().createElement(h.CardBody,null,f().createElement(h.DataList,null,f().createElement(h.DataListItem,null,f().createElement(h.DataListItemRow,null,f().createElement(h.DataListItemCells,{className:"pref-u-condensed",dataListCells:[f().createElement(h.DataListCell,{isFilled:!1,className:"pref-c-title pref-u-bold pref-u-condensed",key:"email-title"},"Email address"),f().createElement(h.DataListCell,{isFilled:!0,key:"email-value",className:"pref-email__info-user-email pref-u-condensed"},w?f().createElement(p.Fragment,null,f().createElement("span",null,E.email),f().createElement("a",{rel:"noopener noreferrer",target:"_blank",href:B},"Not correct?")):f().createElement(g.Z,{size:"lg"}))]}))))))),f().createElement(h.StackItem,null,f().createElement(h.Card,{ouiaId:"user-pref-email-subscriptions-card"},f().createElement(h.CardHeader,{className:"pf-u-pb-0"},f().createElement(h.TextContent,null,f().createElement(h.Text,{component:h.TextVariants.h2},"Email subscriptions"),f().createElement(h.Text,{component:h.TextVariants.p},"Select the cloud.redhat.com emails you want to receive."))),f().createElement(h.CardBody,{className:"pref-email_form"},w?f().createElement(A.Z,{componentMapper:he(he({},d.YS),{},(e={},(0,a.Z)(e,"descriptiveCheckbox",P),(0,a.Z)(e,q,j),(0,a.Z)(e,G,z),e)),FormTemplate:function(e){return f().createElement(d._U,(0,n.Z)({},e,{FormButtons:ve}))},schema:{fields:[{name:"email-preferences",component:G,sections:Object.entries(o).map((function(e){var t=(0,s.Z)(e,2);return function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return!0===t.isVisible?{label:null==t?void 0:t.title,name:e,fields:(null==t?void 0:t.fields)||ie(r)}:(Promise.resolve(t.isVisible).then(a),{label:f().createElement(g.Z,null),name:e,fields:$})}(e,t,null==F?void 0:F[e],(function(t){var r=(0,n.Z)({},o);!1===t?delete r[e]:r[e]=he(he({},r[e]),{},{isVisible:t}),C(r)}))}(t[0],t[1])}))}]},onSubmit:S}):f().createElement(h.Bullseye,null,f().createElement(h.Spinner,null))))))))}},97869:(e,t,r)=>{"use strict";var a=r(93379),n=r.n(a),i=r(41195),l=n()(i.default,{insert:"head",singleton:!1});if(!i.default.locals||e.hot.invalidate){var s=i.default.locals;e.hot.accept(41195,(t=>{i=r(41195),function(e,t,r){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(s,i.default.locals)?(s=i.default.locals,l(i.default)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),i.default.locals},13192:(e,t,r)=>{"use strict";var a=r(93379),n=r.n(a),i=r(89279),l=n()(i.default,{insert:"head",singleton:!1});if(!i.default.locals||e.hot.invalidate){var s=i.default.locals;e.hot.accept(89279,(t=>{i=r(89279),function(e,t,r){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(s,i.default.locals)?(s=i.default.locals,l(i.default)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),i.default.locals},54084:e=>{"use strict";e.exports=JSON.parse('{"email-preference":{"advisor":{"title":"Advisor","url":"/user-preferences/","apiName":"insights","permissions":[{"method":"hasLoosePermissions","args":[["insights:*:*","insights:*:read","advisor:*:*","advisor:*:read","advisor:rules:read"]]}]},"policies":{"title":"Policies","permissions":[{"method":"!isBeta"},{"method":"hasPermissions","args":[["policies:*:*"]]}]},"notifications":{"title":"Notifications (Beta)","permissions":[{"method":"isBeta"}]},"unsubscribe":{"title":"","localFile":"data/unsubscribe.json"}}}')},40118:(e,t,r)=>{var a={"./config.json":[54084],"./data/general.json":[11636,636],"./data/unsubscribe.json":[58132,132]};function n(e){if(!r.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],n=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r.t(n,3)))}n.keys=()=>Object.keys(a),n.id=40118,e.exports=n}}]);
//# sourceMappingURL=Email.ba96a08a2e68a73f1b7f.js.map