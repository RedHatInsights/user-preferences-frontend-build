{"version":3,"sources":["webpack://insights-frontend-starter-app/./src/PresentationalComponents/Email/email.scss","webpack://insights-frontend-starter-app/./src/SmartComponents/FormComponents/descriptiveCheckbox.scss","webpack://insights-frontend-starter-app/./src/SmartComponents/FormComponents/DescriptiveCheckbox.js","webpack://insights-frontend-starter-app/./src/SmartComponents/FormComponents/Loader.js","webpack://insights-frontend-starter-app/./src/SmartComponents/FormComponents/DataListLayout.js","webpack://insights-frontend-starter-app/./src/SmartComponents/FormComponents/componentTypes.js","webpack://insights-frontend-starter-app/./src/api.js","webpack://insights-frontend-starter-app/./src/actions.js","webpack://insights-frontend-starter-app/./src/Utilities/constants.js","webpack://insights-frontend-starter-app/./src/Utilities/functions.js","webpack://insights-frontend-starter-app/./src/PresentationalComponents/shared/FormButtons.js","webpack://insights-frontend-starter-app/./src/PresentationalComponents/Email/Email.js","webpack://insights-frontend-starter-app/./src/PresentationalComponents/Email/email.scss?2021","webpack://insights-frontend-starter-app/./src/SmartComponents/FormComponents/descriptiveCheckbox.scss?5954","webpack://insights-frontend-starter-app/./src/config|lazy|/^\\.\\/.*$/|groupOptions: {}|namespace object"],"names":["___CSS_LOADER_EXPORT___","push","module","id","DescriptiveCheckbox","props","useFieldApi","type","label","title","description","isDanger","isGlobal","input","onChange","formOptions","useFormApi","Checkbox","isChecked","checked","name","batch","getRegisteredFields","forEach","field","getFieldState","value","change","data-type","className","classNames","propTypes","FieldProvider","PropTypes","defaultProps","Loader","size","rest","validate","FormSpyProvider","Skeleton","DataListRow","hasError","_error","info","this","setState","fieldsKey","fields","state","DataListItemRow","DataListItemCells","dataListCells","DataListCell","isFilled","key","renderForm","Component","DataListLayout","sections","DataList","aria-label","map","actualFields","Array","isArray","length","DataListItem","aria-labelledby","fieldsToRender","LOADER","DATA_LIST","instance","response","config","data","JSON","parse","_e","getApplicationSchema","application","apiVersion","resourceType","url","saveValues","values","getEmailSchema","schema","apiName","ACTION_TYPES","payload","meta","appName","notifications","rejected","variant","saveEmailValues","save","noError","loaderField","component","getSchema","app","loaded","visibilityFunctions","insights","chrome","hasLoosePermissions","permissions","getUserPermissions","userPermissions","some","item","find","permission","calculatePermissions","Promise","all","flat","method","args","then","visibility","every","Boolean","calculateEmailConfig","dispatch","Object","entries","localFile","isVisible","resolve","newMapper","reduce","acc","curr","concatApps","apps","slice","join","distributeSuccessError","promisses","allSettled","promise","index","success","error","dispatchMessages","addNotification","dismissable","FormButtons","dirtyFieldsSinceLastSubmit","submitSucceeded","pristine","reset","noChanges","ActionGroup","Button","ouiaId","isDisabled","onClick","formProps","subscription","useState","emailConfig","setEmailConfig","currentUser","setCurrentUser","isLoaded","setLoaded","useDispatch","useEffect","register","emailPreferences","auth","getUser","identity","user","store","useSelector","unsubscribe","promises","filter","keys","action","personalInfoUrl","isProd","PageHeader","PageHeaderTitle","Main","Stack","hasGutter","StackItem","Card","CardHeader","TextContent","Text","TextVariants","CardBody","Fragment","email","rel","target","href","componentMapper","FormTemplate","storeSchema","getSection","calculateSection","onSubmit","Bullseye","Spinner","update","hot","invalidate","oldLocals","accept","a","b","isNamedExport","p","isEqualLocals","dispose","webpackAsyncContext","req","__webpack_require__","o","e","Error","code","ids","t","exports"],"mappings":"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","file":"js/Email.925a1c74c7392947758f.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".pref-email .pref-email__subs-info{padding-bottom:0}.pref-email .pf-c-data-list{border:0}.pref-email .pf-c-data-list .pref-c-title{min-width:155px;max-width:155px}.pref-email .pf-c-data-list .pf-c-data-list__item:last-of-type{border:0}.pref-email .pf-c-data-list .pf-c-data-list__item-content.pref-u-condensed{padding-top:0;padding-bottom:0}.pref-email .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*{padding-bottom:var(--pf-global--spacer--md)}.pref-email .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*:last-child{padding-bottom:0}.pref-email .pf-c-data-list .pf-c-data-list__item-row{padding-left:0}.pref-email .pf-c-data-list .pref-email__info-user-email{padding-left:19px}.pref-email .pf-c-data-list .pref-email__info-user-email a{padding-left:var(--pf-global--gutter)}.pref-email .pref-u-bold{font-weight:var(--pf-global--FontWeight--bold)}.pref-email div.pref-u-condensed{padding-top:var(--pf-global--spacer--sm);padding-bottom:0}.pref-email .pref-email__form-button{margin-right:16px}@media screen and (max-width: 768px){.pref-email .pf-c-data-list .pref-email__info-user-email{padding-left:0}.pref-email .pf-c-data-list .pref-email__info-user-email.pf-c-data-list__cell span{padding-bottom:var(--pf-global--spacer--sm)}.pref-email .pf-c-data-list .pref-email__info-user-email>*{display:block}.pref-email .pf-c-data-list .pref-email__info-user-email a{padding-left:0}.pref-email .pref-email__info .pf-c-card__body .pf-l-flex>div:first-of-type{flex-grow:0;flex-basis:100%}.pref-email .pref-email__info .pf-c-card__body .pf-l-flex .pref-email_loader span{margin-left:0}.pref-email .pf-c-data-list__item:last-of-type .pf-c-data-list__cell:last-of-type{padding-top:var(--pf-global--spacer--lg)}.pref-email ul.pf-c-data-list .pf-c-data-list__item div.pf-c-data-list__cell.pref-u-condensed{padding-top:0;padding-bottom:0}}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/PresentationalComponents/Email/email.scss\"],\"names\":[],\"mappings\":\"AAIA,mCAEQ,gBAAiB,CAFzB,4BAMQ,QAAS,CANjB,0CAUY,eAAgB,CAChB,eAAgB,CAX5B,+DAa6C,QAAS,CAbtD,2EAiBgB,aAAc,CACd,gBAAiB,CAlBjC,kFAuBoB,2CAA4C,CAvBhE,6FA0BwB,gBAAiB,CA1BzC,sDAgCoC,cAAe,CAhCnD,yDAkCY,iBAAkB,CAlC9B,2DAqCgB,qCAAsC,CArCtD,yBA0CmB,8CAA+C,CA1ClE,iCA6CQ,wCAAyC,CACzC,gBAAiB,CA9CzB,qCAkDQ,iBAAkB,CACrB,qCAID,yDAGQ,cAAe,CAHvB,mFAOY,2CAA4C,CAPxD,2DAWY,aAAc,CAX1B,2DAgBY,cAAe,CAhB3B,4EAuBgB,WAAY,CACZ,eAAgB,CAxBhC,kFA2BsC,aAAc,CA3BpD,kFAiCY,wCAAyC,CAjCrD,8FAwCgB,aAAc,CACd,gBAAiB,CACpB\",\"sourcesContent\":[\"// js generates class '.page__{rootClass}' that wraps the content in your page added to the root tag\\n// Found in Routes.js as the rootClass\\n@import '~@redhat-cloud-services/frontend-components-utilities/files/Utilities/_mixins.scss';\\n\\n.pref-email {\\n    .pref-email__subs-info {\\n        padding-bottom: 0;\\n    }\\n\\n    .pf-c-data-list {\\n        border: 0;\\n    \\n        .pref-c-title {\\n            // min and max width, because data lists\\n            min-width: 155px;\\n            max-width: 155px;\\n        }\\n        .pf-c-data-list__item:last-of-type { border: 0; }\\n\\n        .pf-c-data-list__item-content {\\n            &.pref-u-condensed {\\n                padding-top: 0;\\n                padding-bottom: 0;\\n            }\\n\\n            .pf-c-data-list__cell{\\n                > * {\\n                    padding-bottom: var(--pf-global--spacer--md);\\n\\n                    &:last-child {\\n                        padding-bottom: 0;\\n                    }\\n                }\\n            }\\n        }\\n\\n        .pf-c-data-list__item-row { padding-left: 0; }\\n        .pref-email__info-user-email {\\n            padding-left: 19px;\\n\\n            a {\\n                padding-left: var(--pf-global--gutter);\\n            }\\n        }\\n    }\\n\\n    .pref-u-bold { font-weight: var(--pf-global--FontWeight--bold); }\\n\\n    div.pref-u-condensed {\\n        padding-top: var(--pf-global--spacer--sm);\\n        padding-bottom: 0;\\n    }\\n\\n    .pref-email__form-button {\\n        margin-right: 16px;\\n    }\\n}\\n\\n@media screen and (max-width: 768px) {\\n    .pref-email {\\n\\n        .pf-c-data-list .pref-email__info-user-email {\\n            padding-left: 0;\\n\\n\\n            &.pf-c-data-list__cell span {\\n                padding-bottom: var(--pf-global--spacer--sm);\\n            }\\n\\n            > * {\\n                display: block;\\n            }\\n\\n\\n            a {\\n                padding-left: 0;\\n            }\\n        }\\n\\n        .pref-email__info {\\n            .pf-c-card__body .pf-l-flex {\\n                > div:first-of-type {\\n                    flex-grow: 0;\\n                    flex-basis: 100%;\\n                }\\n\\n                .pref-email_loader span { margin-left: 0; }\\n            }\\n        }\\n\\n        .pf-c-data-list__item:last-of-type {\\n            .pf-c-data-list__cell:last-of-type {\\n                padding-top: var(--pf-global--spacer--lg);\\n            }\\n        }\\n        \\n        ul.pf-c-data-list {\\n            .pf-c-data-list__item {\\n                div.pf-c-data-list__cell.pref-u-condensed {\\n                    padding-top: 0;\\n                    padding-bottom: 0;\\n                }\\n            }\\n        }\\n    }\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".pref-c-descriptive-checkbox span{display:block}.pref-c-descriptive-checkbox input.pf-c-check__input{align-self:start;margin-top:var(--pf-global--spacer--xs)}.pref-c-descriptive-checkbox .pref-c-checkbox-label{font-weight:var(--pf-global--FontWeight--bold)}.pref-c-descriptive-checkbox .pref-c-checkbox-label-error{color:var(--pf-global--danger-color--200)}.pref-c-descriptive-checkbox .pref-c-checkbox-description{font-size:var(--pf-global--FontSize--md);color:var(--pf-global--Color--100)}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/SmartComponents/FormComponents/descriptiveCheckbox.scss\"],\"names\":[],\"mappings\":\"AAAA,kCAEQ,aAAc,CAFtB,qDAMQ,gBAAiB,CACjB,uCAAwC,CAPhD,oDAWQ,8CAA+C,CAXvD,0DAeQ,yCAA0C,CAflD,0DAmBQ,wCAAyC,CACzC,kCAAmC\",\"sourcesContent\":[\".pref-c-descriptive-checkbox {\\n    span {\\n        display: block;\\n    }\\n\\n    input.pf-c-check__input {\\n        align-self: start;\\n        margin-top: var(--pf-global--spacer--xs);\\n    }\\n\\n    .pref-c-checkbox-label {\\n        font-weight: var(--pf-global--FontWeight--bold);\\n    }\\n\\n    .pref-c-checkbox-label-error {\\n        color: var(--pf-global--danger-color--200);\\n    }\\n  \\n    .pref-c-checkbox-description {\\n        font-size: var(--pf-global--FontSize--md);\\n        color: var(--pf-global--Color--100);\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import React from 'react';\nimport { Checkbox } from '@patternfly/react-core';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport {\n  useFieldApi,\n  useFormApi,\n} from '@data-driven-forms/react-form-renderer';\nimport './descriptiveCheckbox.scss';\n\n// eslint-disable-next-line no-unused-vars\nconst DescriptiveCheckbox = (props) => {\n  const {\n    label,\n    title,\n    description,\n    isDanger,\n    isGlobal,\n    input: { onChange, ...input },\n  } = useFieldApi({\n    ...props,\n    type: 'checkbox',\n  });\n  const formOptions = useFormApi();\n  return (\n    <Checkbox\n      {...input}\n      isChecked={input.checked}\n      id={`descriptive-checkbox-${input.name}`}\n      onChange={(...props) => {\n        if (isGlobal) {\n          formOptions.batch(() => {\n            formOptions.getRegisteredFields().forEach((field) => {\n              if (typeof formOptions.getFieldState(field).value === 'boolean') {\n                formOptions.change(field, false);\n              }\n            });\n          });\n        } else {\n          formOptions.change('unsubscribe.from-all', false);\n        }\n\n        onChange(...props);\n      }}\n      data-type=\"descriptive-checkbox\"\n      className=\"pref-c-descriptive-checkbox\"\n      label={\n        <span\n          className={classNames('pref-c-checkbox-label', {\n            'pref-c-checkbox-label-error': isDanger || isGlobal,\n          })}\n        >\n          {label || title}\n        </span>\n      }\n      {...(description && {\n        description: (\n          <span className=\"pref-c-checkbox-description\">{description}</span>\n        ),\n      })}\n    />\n  );\n};\n\nDescriptiveCheckbox.propTypes = {\n  FieldProvider: PropTypes.any,\n  formOptions: PropTypes.any,\n  name: PropTypes.string,\n  label: PropTypes.string,\n  title: PropTypes.string,\n  description: PropTypes.string,\n  isDanger: PropTypes.bool,\n  isGlobal: PropTypes.bool,\n};\n\nDescriptiveCheckbox.defaultProps = {\n  name: '',\n  label: '',\n  isDanger: false,\n};\n\nexport default DescriptiveCheckbox;\n","import React from 'react';\nimport { Skeleton } from '@redhat-cloud-services/frontend-components';\nimport PropTypes from 'prop-types';\n\nconst Loader = ({\n  name,\n  size,\n  FieldProvider,\n  validate,\n  FormSpyProvider,\n  formOptions,\n  ...rest\n}) => (\n  <div {...rest}>\n    <Skeleton size={size}></Skeleton>\n  </div>\n);\n\nLoader.propTypes = {\n  FieldProvider: PropTypes.any,\n  formOptions: PropTypes.any,\n  FormSpyProvider: PropTypes.any,\n  validate: PropTypes.any,\n  name: PropTypes.string,\n  size: PropTypes.string,\n};\n\nLoader.defaultProps = {\n  name: '',\n  size: 'md',\n};\n\nexport default Loader;\n","import React, { Component } from 'react';\nimport {\n  DataList,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  DataListCell,\n} from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport {\n  useFieldApi,\n  useFormApi,\n} from '@data-driven-forms/react-form-renderer';\n\nclass DataListRow extends Component {\n  state = {\n    hasError: false,\n  };\n\n  componentDidCatch(_error, info) {\n    this.setState({ hasError: info });\n  }\n\n  render() {\n    const { fieldsKey, label, fields, formOptions } = this.props;\n    const { hasError } = this.state;\n    return (\n      <DataListItemRow>\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell\n              isFilled={false}\n              className=\"pref-c-title pref-u-bold\"\n              key={`${fieldsKey}-title`}\n            >\n              {fieldsKey === 0 ? label : ''}\n            </DataListCell>,\n            <DataListCell isFilled key={`${fieldsKey}-content`}>\n              {hasError\n                ? 'Error while mapping fields, please check your schema if it has valid component types'\n                : formOptions?.renderForm(fields, formOptions)}\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    );\n  }\n}\n\nDataListRow.propTypes = {\n  fieldsKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  fields: PropTypes.array,\n  FieldProvider: PropTypes.any,\n  formOptions: PropTypes.any,\n  label: PropTypes.node,\n  name: PropTypes.string,\n  validate: PropTypes.any,\n  FormSpyProvider: PropTypes.any,\n};\n\n// eslint-disable-next-line no-unused-vars\nconst DataListLayout = (props) => {\n  const { sections, label, name } = useFieldApi(props);\n  const formOptions = useFormApi();\n  return (\n    <DataList aria-label={label || name} {...props}>\n      {sections.map(({ label, fields }, key) => {\n        const actualFields = Array.isArray(fields) ? fields : [fields];\n        return (\n          actualFields.length > 0 && (\n            <DataListItem name={name} key={key} aria-labelledby=\"simple-item1\">\n              {actualFields.map(({ fields: fieldsToRender }, fieldsKey) => (\n                <DataListRow\n                  key={`${key}-${fieldsKey}`}\n                  fieldsKey={fieldsKey}\n                  label={label}\n                  fields={fieldsToRender}\n                  formOptions={formOptions}\n                />\n              ))}\n            </DataListItem>\n          )\n        );\n      })}\n    </DataList>\n  );\n};\n\nDataListLayout.propTypes = {\n  sections: PropTypes.array,\n  FieldProvider: PropTypes.any,\n  formOptions: PropTypes.any,\n  label: PropTypes.node,\n  name: PropTypes.string,\n  validate: PropTypes.any,\n  FormSpyProvider: PropTypes.any,\n};\n\nexport default DataListLayout;\n","export const DESCRIPTIVE_CHECKBOX = 'descriptiveCheckbox';\nexport const LOADER = 'loader';\nexport const DATA_LIST = 'section';\n","import instance from '@redhat-cloud-services/frontend-components-utilities/files/interceptors';\nexport { instance };\n\ninstance.interceptors.response.use((response) => {\n  if (response?.config?.data) {\n    try {\n      return JSON.parse(response.config.data);\n    } catch (_e) {\n      return response.config.data;\n    }\n  }\n\n  return response;\n});\n\nexport const getApplicationSchema = (\n  application,\n  apiVersion = 'v1',\n  resourceType = '',\n  url\n) =>\n  instance.get(\n    `/api/${application}/${apiVersion}${url || `/user-config/${resourceType}`}`\n  );\n\nexport const saveValues = async (\n  application,\n  values,\n  apiVersion = 'v1',\n  resourceType = '',\n  url\n) =>\n  instance.post(\n    `/api/${application}/${apiVersion}${url || `/user-config/${resourceType}`}`,\n    values\n  );\n","import { getApplicationSchema, saveValues as save } from './api';\nimport { ACTION_TYPES } from './constants';\nimport config from './config/config.json';\n\nexport const getEmailSchema = ({\n  application,\n  apiVersion,\n  resourceType = 'email-preference',\n  schema,\n  url,\n  apiName,\n}) => ({\n  type: ACTION_TYPES.GET_EMAIL_SCHEMA,\n  payload:\n    schema ||\n    getApplicationSchema(apiName || application, apiVersion, resourceType, url),\n  meta: {\n    appName: application,\n    notifications: {\n      rejected: {\n        variant: 'danger',\n        title: \"Request for user user's configuration failed\",\n        description: `User's configuration email for ${config['email-preference']?.[application]?.title} application does not exist.`,\n      },\n    },\n  },\n});\n\nexport const saveEmailValues = ({\n  application,\n  values,\n  apiVersion,\n  resourceType = 'email-preference',\n  url,\n  apiName,\n}) => ({\n  type: ACTION_TYPES.SAVE_EMAIL_SCHEMA,\n  payload: save(apiName || application, values, apiVersion, resourceType, url),\n  meta: {\n    appName: application,\n    title: config['email-preference']?.[application]?.title,\n    noError: true,\n  },\n});\n","import { LOADER } from '../SmartComponents/FormComponents';\n\nexport const loaderField = [{ fields: [{ component: LOADER }] }];\n","import React from 'react';\nimport { Skeleton } from '@redhat-cloud-services/frontend-components';\nimport { getEmailSchema } from '../actions';\nimport { loaderField } from './constants';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\n\nexport const getSchema = (app) =>\n  !app || !app.loaded ? loaderField : app.schema;\n\nexport const visibilityFunctions = {\n  ...insights.chrome?.visibilityFunctions,\n  hasLoosePermissions: async (permissions = []) => {\n    const userPermissions = await insights.chrome.getUserPermissions();\n    return permissions.some((item) =>\n      userPermissions?.find(({ permission }) => permission === item)\n    );\n  },\n};\n\nexport const calculatePermissions = (permissions) =>\n  Promise.all(\n    [permissions]\n      .flat()\n      .map(({ method, args }) =>\n        visibilityFunctions?.[method]?.(...(args || []))\n      )\n  ).then((visibility) => visibility.every(Boolean));\n\nexport const calculateEmailConfig = (\n  { 'email-preference': config } = { 'email-preference': {} },\n  dispatch = () => {}\n) =>\n  Object.entries(config)\n    .map(\n      ([\n        key,\n        { permissions, url, apiName, apiVersion, localFile, ...rest },\n      ]) => {\n        const isVisible = permissions\n          ? calculatePermissions(permissions)\n          : true;\n        (async () => {\n          const schemaVisible = await Promise.resolve(isVisible);\n          if (schemaVisible) {\n            if (localFile) {\n              const newMapper = (await import(`../config/${localFile}`))\n                .default;\n              dispatch(getEmailSchema({ schema: newMapper, application: key }));\n            } else {\n              dispatch(\n                getEmailSchema({ application: key, url, apiName, apiVersion })\n              );\n            }\n          }\n        })();\n\n        return {\n          [key]: {\n            localFile,\n            isVisible,\n            url,\n            apiName,\n            apiVersion,\n            ...rest,\n          },\n        };\n      }\n    )\n    .reduce((acc, curr) => ({ ...acc, ...curr }), {});\n\nexport const getSection = (\n  key,\n  schema = {},\n  storeSchema,\n  success = () => {}\n) => {\n  if (schema.isVisible === true) {\n    return {\n      label: schema?.title,\n      name: key,\n      fields: schema?.fields || getSchema(storeSchema),\n    };\n  } else {\n    Promise.resolve(schema.isVisible).then(success);\n\n    return {\n      label: <Skeleton />,\n      name: key,\n      fields: loaderField,\n    };\n  }\n};\n\nexport const concatApps = (apps = []) => {\n  return `${apps.slice(0, apps.length - (apps.length > 1)).join(', ')}${\n    apps.length >= 2 ? ` and ${apps[apps.length - 1]}` : ''\n  }`;\n};\n\nexport const distributeSuccessError = (promisses = []) => {\n  return Promise.allSettled(promisses.map(({ promise }) => promise)).then(\n    (apps) => {\n      return apps.reduce(\n        (acc, { value }, index) => ({\n          ...acc,\n          [value ? 'success' : 'error']: [\n            ...acc[value ? 'success' : 'error'],\n            promisses[index]?.meta?.title,\n          ],\n        }),\n        { success: [], error: [] }\n      );\n    }\n  );\n};\n\nexport const dispatchMessages = (\n  dispatch = () => undefined,\n  success = [],\n  error = []\n) => {\n  if (error.length !== 0 && success.length !== 0) {\n    dispatch(\n      addNotification({\n        dismissable: false,\n        variant: 'success',\n        title: `Email preferences for ${concatApps(\n          success\n        )} successfully saved`,\n      })\n    );\n\n    dispatch(\n      addNotification({\n        dismissable: false,\n        variant: 'danger',\n        title: `Email preferences for ${concatApps(\n          error\n        )} unsuccessfully saved`,\n      })\n    );\n  }\n\n  if (error.length === 0 && success.length !== 0) {\n    dispatch(\n      addNotification({\n        dismissable: false,\n        variant: 'success',\n        title: 'Preferences successfully saved',\n      })\n    );\n  }\n\n  if (error.length !== 0 && success.length === 0) {\n    dispatch(\n      addNotification({\n        dismissable: false,\n        variant: 'danger',\n        title: 'Preferences unsuccessfully saved',\n      })\n    );\n  }\n};\n","import React from 'react';\nimport { useFormApi } from '@data-driven-forms/react-form-renderer';\nimport PropTypes from 'prop-types';\nimport { Button } from '@patternfly/react-core';\nimport { isEmpty } from 'lodash';\nimport { FormSpy } from '@data-driven-forms/react-form-renderer';\nimport { ActionGroup } from '@patternfly/react-core';\n\nconst FormButtons = ({\n  dirtyFieldsSinceLastSubmit,\n  submitSucceeded,\n  pristine,\n}) => {\n  const { reset } = useFormApi();\n  const noChanges =\n    isEmpty(dirtyFieldsSinceLastSubmit) || (!submitSucceeded && pristine);\n  return (\n    <ActionGroup>\n      <Button\n        className=\"pref-email__form-button\"\n        type=\"submit\"\n        ouiaId=\"user-pref-primary-button\"\n        isDisabled={noChanges}\n        variant=\"primary\"\n      >\n        Save\n      </Button>\n      <Button\n        variant=\"link\"\n        ouiaId=\"user-pref-reset-button\"\n        isDisabled={noChanges}\n        onClick={() => reset()}\n      >\n        Cancel\n      </Button>\n    </ActionGroup>\n  );\n};\n\nFormButtons.propTypes = {\n  dirtyFieldsSinceLastSubmit: PropTypes.arrayOf(\n    PropTypes.shape({\n      [PropTypes.string]: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n        PropTypes.bool,\n      ]),\n    })\n  ),\n  submitSucceeded: PropTypes.bool,\n  pristine: PropTypes.bool,\n};\n\nconst FormButtonWithSpies = (formProps) => (\n  <FormSpy\n    subscription={{\n      pristine: true,\n      submitSucceeded: true,\n      dirtyFieldsSinceLastSubmit: true,\n    }}\n  >\n    {(props) => <FormButtons {...props} {...formProps} />}\n  </FormSpy>\n);\n\nexport default FormButtonWithSpies;\n","import React, { useState, useEffect, Fragment } from 'react';\nimport './email.scss';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  componentMapper,\n  FormTemplate,\n} from '@data-driven-forms/pf4-component-mapper';\nimport {\n  Main,\n  PageHeader,\n  PageHeaderTitle,\n  Skeleton,\n} from '@redhat-cloud-services/frontend-components';\nimport {\n  Card,\n  CardBody,\n  Stack,\n  StackItem,\n  CardHeader,\n  TextContent,\n  Text,\n  TextVariants,\n  Spinner,\n  Bullseye,\n  DataList,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  DataListCell,\n} from '@patternfly/react-core';\nimport FormRender from '@data-driven-forms/react-form-renderer';\nimport {\n  DESCRIPTIVE_CHECKBOX,\n  DATA_LIST,\n  LOADER,\n  DescriptiveCheckbox,\n  DataListLayout,\n  Loader,\n} from '../../SmartComponents/FormComponents';\nimport config from '../../config/config.json';\nimport { emailPreferences, register } from '../../store';\nimport { saveEmailValues } from '../../actions';\nimport {\n  calculateEmailConfig,\n  getSection,\n  distributeSuccessError,\n  dispatchMessages,\n} from '../../Utilities/functions';\nimport FormButtons from '../shared/FormButtons';\n\nconst Email = () => {\n  const [emailConfig, setEmailConfig] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [isLoaded, setLoaded] = useState(false);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    (async () => {\n      register(emailPreferences);\n      const { identity } = await insights.chrome.auth.getUser();\n      setCurrentUser(identity.user);\n      setEmailConfig(await calculateEmailConfig(config, dispatch));\n      setLoaded(true);\n    })();\n  }, []);\n\n  const store = useSelector(({ emailPreferences }) => emailPreferences);\n\n  const saveValues = async ({ unsubscribe, ...values }) => {\n    const promises = Object.entries(emailConfig)\n      .filter(([, { isVisible }]) => isVisible === true)\n      .map(([application, { localFile, schema, url, apiName }]) => {\n        if (\n          !localFile &&\n          !schema &&\n          store?.[application]?.schema &&\n          Object.keys(store?.[application]?.schema).length > 0\n        ) {\n          const action = saveEmailValues({ application, values, url, apiName });\n          dispatch(action);\n\n          return {\n            promise: action.payload,\n            meta: action.meta,\n          };\n        }\n      })\n      .filter(Boolean);\n\n    const { success, error } = await distributeSuccessError(promises);\n    dispatchMessages(dispatch, success, error);\n  };\n\n  const calculateSection = (key, schema) => {\n    return getSection(key, schema, store?.[key], (isVisible) => {\n      const { ...config } = emailConfig;\n      if (isVisible === false) {\n        delete config[key];\n      } else {\n        config[key] = {\n          ...config[key],\n          isVisible,\n        };\n      }\n\n      setEmailConfig(config);\n    });\n  };\n\n  const personalInfoUrl = `https://www.${\n    insights.chrome.isProd ? '' : 'qa.'\n  }redhat.com/wapps/ugc/protected/emailChange.html`;\n\n  return (\n    <React.Fragment>\n      <PageHeader>\n        <PageHeaderTitle title=\"Email preferences\" />\n      </PageHeader>\n      <Main className=\"pref-email\">\n        <Stack hasGutter>\n          <StackItem>\n            <Card className=\"pref-email__info\" ouiaId=\"user-pref-info-card\">\n              <CardHeader>\n                <TextContent>\n                  <Text component={TextVariants.h2}>Your information</Text>\n                </TextContent>\n              </CardHeader>\n              <CardBody>\n                <DataList>\n                  <DataListItem>\n                    <DataListItemRow>\n                      <DataListItemCells\n                        className=\"pref-u-condensed\"\n                        dataListCells={[\n                          <DataListCell\n                            isFilled={false}\n                            className=\"pref-c-title pref-u-bold pref-u-condensed\"\n                            key=\"email-title\"\n                          >\n                            Email address\n                          </DataListCell>,\n                          <DataListCell\n                            isFilled\n                            key=\"email-value\"\n                            className=\"pref-email__info-user-email pref-u-condensed\"\n                          >\n                            {isLoaded ? (\n                              <Fragment>\n                                <span>{currentUser.email}</span>\n                                <a\n                                  rel=\"noopener noreferrer\"\n                                  target=\"_blank\"\n                                  href={personalInfoUrl}\n                                >\n                                  Not correct?\n                                </a>\n                              </Fragment>\n                            ) : (\n                              <Skeleton size=\"lg\"></Skeleton>\n                            )}\n                          </DataListCell>,\n                        ]}\n                      />\n                    </DataListItemRow>\n                  </DataListItem>\n                </DataList>\n              </CardBody>\n            </Card>\n          </StackItem>\n          <StackItem>\n            <Card ouiaId=\"user-pref-email-subscriptions-card\">\n              <CardHeader className=\"pf-u-pb-0\">\n                <TextContent>\n                  <Text component={TextVariants.h2}>Email subscriptions</Text>\n                  <Text component={TextVariants.p}>\n                    Select the cloud.redhat.com emails you want to receive.\n                  </Text>\n                </TextContent>\n              </CardHeader>\n              <CardBody className=\"pref-email_form\">\n                {isLoaded ? (\n                  <FormRender\n                    componentMapper={{\n                      ...componentMapper,\n                      [DESCRIPTIVE_CHECKBOX]: DescriptiveCheckbox,\n                      [LOADER]: Loader,\n                      [DATA_LIST]: DataListLayout,\n                    }}\n                    FormTemplate={(props) => (\n                      <FormTemplate {...props} FormButtons={FormButtons} />\n                    )}\n                    schema={{\n                      fields: [\n                        {\n                          name: 'email-preferences',\n                          component: DATA_LIST,\n                          sections: Object.entries(\n                            emailConfig\n                          ).map(([key, schema]) =>\n                            calculateSection(key, schema)\n                          ),\n                        },\n                      ],\n                    }}\n                    onSubmit={saveValues}\n                  />\n                ) : (\n                  <Bullseye>\n                    <Spinner />\n                  </Bullseye>\n                )}\n              </CardBody>\n            </Card>\n          </StackItem>\n        </Stack>\n      </Main>\n    </React.Fragment>\n  );\n};\n\nexport default Email;\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./email.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./email.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./descriptiveCheckbox.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./descriptiveCheckbox.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};","var map = {\n\t\"./config.json\": [\n\t\t54084\n\t],\n\t\"./data/general.json\": [\n\t\t11636,\n\t\t636\n\t],\n\t\"./data/unsubscribe.json\": [\n\t\t58132,\n\t\t132\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = () => Object.keys(map);\nwebpackAsyncContext.id = 40118;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}