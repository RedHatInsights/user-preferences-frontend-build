{"version":3,"sources":["webpack:///./src/PresentationalComponents/Email/Email.js","webpack:///./src/SmartComponents/FormComponents/index.js","webpack:///./src/SmartComponents/FormComponents/DescriptiveCheckbox.js","webpack:///./src/SmartComponents/FormComponents/Loader.js","webpack:///./src/SmartComponents/FormComponents/DataListLayout.js","webpack:///./src/SmartComponents/FormComponents/componentTypes.js","webpack:///./src/actions.js","webpack:///./src/api.js","webpack:///./src/Utilities/functions.js","webpack:///./src/Utilities/constants.js","webpack:///./src/PresentationalComponents/Email/email.scss?2289","webpack:///./src/PresentationalComponents/Email/email.scss","webpack:///./src/SmartComponents/FormComponents/descriptiveCheckbox.scss?59b0","webpack:///./src/SmartComponents/FormComponents/descriptiveCheckbox.scss","webpack:///./src/PresentationalComponents/shared/FormButtons.js","webpack:///./src lazy ^\\.\\/.*$ namespace object"],"names":["Email","useState","emailConfig","setEmailConfig","currentUser","setCurrentUser","isLoaded","setLoaded","dispatch","useDispatch","useEffect","a","register","emailPreferences","insights","chrome","auth","getUser","identity","user","calculateEmailConfig","config","store","useSelector","saveValues","unsubscribe","values","promises","Object","entries","filter","isVisible","map","application","localFile","schema","url","apiName","keys","length","action","saveEmailValues","promise","payload","meta","Boolean","distributeSuccessError","success","error","dispatchMessages","personalInfoUrl","isProd","Fragment","title","className","hasGutter","ouiaId","component","TextVariants","h2","dataListCells","isFilled","key","email","rel","target","href","size","p","componentMapper","DESCRIPTIVE_CHECKBOX","DescriptiveCheckbox","LOADER","Loader","DATA_LIST","DataListLayout","FormTemplate","props","FormButtons","fields","name","sections","getSection","calculateSection","onSubmit","useFieldApi","type","label","description","isDanger","isGlobal","input","onChange","formOptions","useFormApi","isChecked","checked","id","batch","getRegisteredFields","forEach","field","getFieldState","value","change","data-type","classNames","propTypes","FieldProvider","PropTypes","any","string","bool","defaultProps","rest","validate","FormSpyProvider","DataListRow","hasError","_error","info","this","setState","fieldsKey","state","renderForm","Component","oneOfType","number","array","node","aria-label","actualFields","Array","isArray","aria-labelledby","fieldsToRender","getEmailSchema","apiVersion","resourceType","ACTION_TYPES","GET_EMAIL_SCHEMA","getApplicationSchema","appName","notifications","rejected","variant","SAVE_EMAIL_SCHEMA","save","noError","instance","interceptors","response","use","data","JSON","parse","_e","get","post","getSchema","app","loaded","loaderField","visibilityFunctions","hasLoosePermissions","permissions","getUserPermissions","userPermissions","some","item","find","permission","calculatePermissions","Promise","all","flat","method","args","then","visibility","every","resolve","newMapper","reduce","acc","curr","storeSchema","concatApps","apps","slice","join","promisses","allSettled","index","addNotification","dismissable","content","module","i","options","transform","undefined","update","locals","exports","hot","accept","newContent","b","idx","Error","dispose","___CSS_LOADER_API_IMPORT___","push","dirtyFieldsSinceLastSubmit","submitSucceeded","pristine","reset","noChanges","isDisabled","onClick","arrayOf","shape","FormButtonWithSpies","formProps","subscription","webpackAsyncContext","req","__webpack_require__","o","e","code","ids","t"],"mappings":"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CAC9C,IACA,GAED,gDAAiD,CAChD,IACA,GAED,mDAAoD,CACnD,IACA,GAED,WAAY,CACX,IACA,GAED,cAAe,CACd,IACA,GAED,mCAAoC,CACnC,IACA,GAED,oCAAqC,CACpC,IACA,GAED,kDAAmD,CAClD,IACA,GAED,qDAAsD,CACrD,IACA,GAED,uDAAwD,CACvD,IACA,EACA,EACA,EACA,GAED,0DAA2D,CAC1D,IACA,EACA,EACA,EACA,GAED,uDAAwD,CACvD,IACA,GAED,0DAA2D,CAC1D,IACA,GAED,0CAA2C,CAC1C,IACA,GAED,6CAA8C,CAC7C,IACA,GAED,+CAAgD,CAC/C,IACA,EACA,EACA,EACA,IAED,kDAAmD,CAClD,IACA,EACA,EACA,EACA,IAED,6EAA8E,CAC7E,KACA,EACA,IAED,qEAAsE,CACrE,KACA,EACA,IAED,mFAAoF,CACnF,KACA,EACA,IAED,kDAAmD,CAClD,IACA,GAED,qDAAsD,CACrD,IACA,GAED,6DAA8D,CAC7D,IACA,EACA,EACA,EACA,IAED,gEAAiE,CAChE,IACA,EACA,EACA,EACA,IAED,uDAAwD,CACvD,IACA,GAED,4DAA6D,CAC5D,IACA,GAED,yCAA0C,CACzC,IACA,GAED,4CAA6C,CAC5C,IACA,GAED,cAAe,CACd,IACA,EACA,GAED,mBAAoB,CACnB,IACA,EACA,GAED,mDAAoD,CACnD,KACA,EACA,IAED,6BAA8B,CAC7B,IACA,GAED,gCAAiC,CAChC,IACA,GAED,wBAAyB,CACxB,IACA,GAED,2BAA4B,CAC3B,IACA,GAED,wBAAyB,CACxB,IACA,GAED,2BAA4B,CAC3B,IACA,GAED,6BAA8B,CAC7B,IACA,EACA,EACA,EACA,EACA,EACA,IAED,gCAAiC,CAChC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,GAED,6BAA8B,CAC7B,IACA,EACA,GAED,0BAA2B,CAC1B,IACA,EACA,EACA,GAED,6BAA8B,CAC7B,IACA,EACA,EACA,GAED,YAAa,CACZ,IACA,GAED,eAAgB,CACf,IACA,GAED,QAAS,CACR,IACA,GAED,WAAY,CACX,IACA,GAED,gBAAiB,CAChB,IACA,GAED,cAAe,CACd,IACA,GAED,iBAAkB,CACjB,IACA,GAED,sBAAuB,CACtB,KACA,EACA,IAED,0BAA2B,CAC1B,KACA,EACA,IAED,UAAW,CACV,IACA,GAED,cAAe,CACd,IACA,EACA,EACA,IAED,iBAAkB,CACjB,IACA,EACA,EACA,IAED,aAAc,CACb,IACA,GAED,eAAgB,CACf,IACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,IAED,eAAgB,CACf,KACA,EACA,IAED,UAAW,CACV,IACA,GAED,WAAY,CACX,IACA,GAED,4BAA6B,CAC5B,IACA,GAED,+BAAgC,CAC/B,IACA,GAED,gBAAiB,CAChB,IACA,GAED,mBAAoB,CACnB,IACA,IAGF,SAASmM,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEtM,EAAKoM,GAC9B,OAAOtD,QAAQQ,UAAUH,MAAK,WAC7B,IAAIoD,EAAI,IAAIpB,MAAM,uBAAyBiB,EAAM,KAEjD,MADAG,EAAEC,KAAO,mBACHD,KAIR,IAAIE,EAAMzM,EAAIoM,GAAMnI,EAAKwI,EAAI,GAC7B,OAAO3D,QAAQC,IAAI0D,EAAI3C,MAAM,GAAG9J,IAAIqM,EAAoBE,IAAIpD,MAAK,WAChE,OAAOkD,EAAoBK,EAAEzI,EAAIwI,EAAI,OAGvCN,EAAoB7L,KAAO,WAC1B,OAAOV,OAAOU,KAAKN,IAEpBmM,EAAoBlI,GAAK,IACzBqG,EAAOO,QAAUsB","file":"js/Email.44dfa28b83db1b67c676.js","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport './email.scss';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  componentMapper,\n  FormTemplate,\n} from '@data-driven-forms/pf4-component-mapper';\nimport {\n  Main,\n  PageHeader,\n  PageHeaderTitle,\n  Skeleton,\n} from '@redhat-cloud-services/frontend-components';\nimport {\n  Card,\n  CardBody,\n  Stack,\n  StackItem,\n  CardHeader,\n  TextContent,\n  Text,\n  TextVariants,\n  Spinner,\n  Bullseye,\n  DataList,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  DataListCell,\n} from '@patternfly/react-core';\nimport FormRender from '@data-driven-forms/react-form-renderer';\nimport {\n  DESCRIPTIVE_CHECKBOX,\n  DATA_LIST,\n  LOADER,\n  DescriptiveCheckbox,\n  DataListLayout,\n  Loader,\n} from '../../SmartComponents/FormComponents';\nimport config from '../../config.json';\nimport { emailPreferences, register } from '../../store';\nimport { saveEmailValues } from '../../actions';\nimport {\n  calculateEmailConfig,\n  getSection,\n  distributeSuccessError,\n  dispatchMessages,\n} from '../../Utilities/functions';\nimport FormButtons from '../shared/FormButtons';\n\nconst Email = () => {\n  const [emailConfig, setEmailConfig] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [isLoaded, setLoaded] = useState(false);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    (async () => {\n      register(emailPreferences);\n      const { identity } = await insights.chrome.auth.getUser();\n      setCurrentUser(identity.user);\n      setEmailConfig(await calculateEmailConfig(config, dispatch));\n      setLoaded(true);\n    })();\n  }, []);\n\n  const store = useSelector(({ emailPreferences }) => emailPreferences);\n\n  // eslint-disable-next-line no-unused-vars\n  const saveValues = async ({ unsubscribe, ...values }) => {\n    const promises = Object.entries(emailConfig)\n      .filter(([, { isVisible }]) => isVisible === true)\n      .map(([application, { localFile, schema, url, apiName }]) => {\n        if (\n          !localFile &&\n          !schema &&\n          store?.[application]?.schema &&\n          Object.keys(store?.[application]?.schema).length > 0\n        ) {\n          const action = saveEmailValues({ application, values, url, apiName });\n          dispatch(action);\n\n          return {\n            promise: action.payload,\n            meta: action.meta,\n          };\n        }\n      })\n      .filter(Boolean);\n\n    const { success, error } = await distributeSuccessError(promises);\n    dispatchMessages(dispatch, success, error);\n  };\n\n  const calculateSection = (key, schema) => {\n    return getSection(key, schema, store?.[key], (isVisible) => {\n      const { ...config } = emailConfig;\n      if (isVisible === false) {\n        delete config[key];\n      } else {\n        config[key] = {\n          ...config[key],\n          isVisible,\n        };\n      }\n\n      setEmailConfig(config);\n    });\n  };\n\n  const personalInfoUrl = `https://www.${\n    insights.chrome.isProd ? '' : 'qa.'\n  }redhat.com/wapps/ugc/protected/emailChange.html`;\n\n  return (\n    <React.Fragment>\n      <PageHeader>\n        <PageHeaderTitle title=\"Email preferences\" />\n      </PageHeader>\n      <Main className=\"pref-email\">\n        <Stack hasGutter>\n          <StackItem>\n            <Card className=\"pref-email__info\" ouiaId=\"user-pref-info-card\">\n              <CardHeader>\n                <TextContent>\n                  <Text component={TextVariants.h2}>Your information</Text>\n                </TextContent>\n              </CardHeader>\n              <CardBody>\n                <DataList>\n                  <DataListItem>\n                    <DataListItemRow>\n                      <DataListItemCells\n                        className=\"pref-u-condensed\"\n                        dataListCells={[\n                          <DataListCell\n                            isFilled={false}\n                            className=\"pref-c-title pref-u-bold pref-u-condensed\"\n                            key=\"email-title\"\n                          >\n                            Email address\n                          </DataListCell>,\n                          <DataListCell\n                            isFilled\n                            key=\"email-value\"\n                            className=\"pref-email__info-user-email pref-u-condensed\"\n                          >\n                            {isLoaded ? (\n                              <Fragment>\n                                <span>{currentUser.email}</span>\n                                <a\n                                  rel=\"noopener noreferrer\"\n                                  target=\"_blank\"\n                                  href={personalInfoUrl}\n                                >\n                                  Not correct?\n                                </a>\n                              </Fragment>\n                            ) : (\n                              <Skeleton size=\"lg\"></Skeleton>\n                            )}\n                          </DataListCell>,\n                        ]}\n                      />\n                    </DataListItemRow>\n                  </DataListItem>\n                </DataList>\n              </CardBody>\n            </Card>\n          </StackItem>\n          <StackItem>\n            <Card ouiaId=\"user-pref-email-subscriptions-card\">\n              <CardHeader className=\"pf-u-pb-0\">\n                <TextContent>\n                  <Text component={TextVariants.h2}>Email subscriptions</Text>\n                  <Text component={TextVariants.p}>\n                    Select the cloud.redhat.com emails you want to receive.\n                  </Text>\n                </TextContent>\n              </CardHeader>\n              <CardBody className=\"pref-email_form\">\n                {isLoaded ? (\n                  <FormRender\n                    componentMapper={{\n                      ...componentMapper,\n                      [DESCRIPTIVE_CHECKBOX]: DescriptiveCheckbox,\n                      [LOADER]: Loader,\n                      [DATA_LIST]: DataListLayout,\n                    }}\n                    FormTemplate={(props) => (\n                      <FormTemplate {...props} FormButtons={FormButtons} />\n                    )}\n                    schema={{\n                      fields: [\n                        {\n                          name: 'email-preferences',\n                          component: DATA_LIST,\n                          sections: Object.entries(\n                            emailConfig\n                          ).map(([key, schema]) =>\n                            calculateSection(key, schema)\n                          ),\n                        },\n                      ],\n                    }}\n                    onSubmit={saveValues}\n                  />\n                ) : (\n                  <Bullseye>\n                    <Spinner />\n                  </Bullseye>\n                )}\n              </CardBody>\n            </Card>\n          </StackItem>\n        </Stack>\n      </Main>\n    </React.Fragment>\n  );\n};\n\nexport default Email;\n","export { default as DescriptiveCheckbox } from './DescriptiveCheckbox';\nexport { default as Loader } from './Loader';\nexport { default as DataListLayout } from './DataListLayout';\nexport * from './componentTypes';\n","import React from 'react';\nimport { Checkbox } from '@patternfly/react-core';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport {\n  useFieldApi,\n  useFormApi,\n} from '@data-driven-forms/react-form-renderer';\nimport './descriptiveCheckbox.scss';\n\n// eslint-disable-next-line no-unused-vars\nconst DescriptiveCheckbox = (props) => {\n  const {\n    label,\n    title,\n    description,\n    isDanger,\n    isGlobal,\n    input: { onChange, ...input },\n  } = useFieldApi({\n    ...props,\n    type: 'checkbox',\n  });\n  const formOptions = useFormApi();\n  return (\n    <Checkbox\n      {...input}\n      isChecked={input.checked}\n      id={`descriptive-checkbox-${input.name}`}\n      onChange={(...props) => {\n        if (isGlobal) {\n          formOptions.batch(() => {\n            formOptions.getRegisteredFields().forEach((field) => {\n              if (typeof formOptions.getFieldState(field).value === 'boolean') {\n                formOptions.change(field, false);\n              }\n            });\n          });\n        } else {\n          formOptions.change('unsubscribe.from-all', false);\n        }\n\n        onChange(...props);\n      }}\n      data-type=\"descriptive-checkbox\"\n      className=\"pref-c-descriptive-checkbox\"\n      label={\n        <span\n          className={classNames('pref-c-checkbox-label', {\n            'pref-c-checkbox-label-error': isDanger || isGlobal,\n          })}\n        >\n          {label || title}\n        </span>\n      }\n      {...(description && {\n        description: (\n          <span className=\"pref-c-checkbox-description\">{description}</span>\n        ),\n      })}\n    />\n  );\n};\n\nDescriptiveCheckbox.propTypes = {\n  FieldProvider: PropTypes.any,\n  formOptions: PropTypes.any,\n  name: PropTypes.string,\n  label: PropTypes.string,\n  title: PropTypes.string,\n  description: PropTypes.string,\n  isDanger: PropTypes.bool,\n  isGlobal: PropTypes.bool,\n};\n\nDescriptiveCheckbox.defaultProps = {\n  name: '',\n  label: '',\n  isDanger: false,\n};\n\nexport default DescriptiveCheckbox;\n","import React from 'react';\nimport { Skeleton } from '@redhat-cloud-services/frontend-components';\nimport PropTypes from 'prop-types';\n\nconst Loader = ({\n  name,\n  size,\n  FieldProvider,\n  validate,\n  FormSpyProvider,\n  formOptions,\n  ...rest\n}) => (\n  <div {...rest}>\n    <Skeleton size={size}></Skeleton>\n  </div>\n);\n\nLoader.propTypes = {\n  FieldProvider: PropTypes.any,\n  formOptions: PropTypes.any,\n  FormSpyProvider: PropTypes.any,\n  validate: PropTypes.any,\n  name: PropTypes.string,\n  size: PropTypes.string,\n};\n\nLoader.defaultProps = {\n  name: '',\n  size: 'md',\n};\n\nexport default Loader;\n","import React, { Component } from 'react';\nimport {\n  DataList,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  DataListCell,\n} from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport {\n  useFieldApi,\n  useFormApi,\n} from '@data-driven-forms/react-form-renderer';\n\nclass DataListRow extends Component {\n  state = {\n    hasError: false,\n  };\n\n  componentDidCatch(_error, info) {\n    this.setState({ hasError: info });\n  }\n\n  render() {\n    const { fieldsKey, label, fields, formOptions } = this.props;\n    const { hasError } = this.state;\n    return (\n      <DataListItemRow>\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell\n              isFilled={false}\n              className=\"pref-c-title pref-u-bold\"\n              key={`${fieldsKey}-title`}\n            >\n              {fieldsKey === 0 ? label : ''}\n            </DataListCell>,\n            <DataListCell isFilled key={`${fieldsKey}-content`}>\n              {hasError\n                ? 'Error while mapping fields, please check your schema if it has valid component types'\n                : formOptions?.renderForm(fields, formOptions)}\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    );\n  }\n}\n\nDataListRow.propTypes = {\n  fieldsKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  fields: PropTypes.array,\n  FieldProvider: PropTypes.any,\n  formOptions: PropTypes.any,\n  label: PropTypes.node,\n  name: PropTypes.string,\n  validate: PropTypes.any,\n  FormSpyProvider: PropTypes.any,\n};\n\n// eslint-disable-next-line no-unused-vars\nconst DataListLayout = (props) => {\n  const { sections, label, name } = useFieldApi(props);\n  const formOptions = useFormApi();\n  return (\n    <DataList aria-label={label || name} {...props}>\n      {sections.map(({ label, fields }, key) => {\n        const actualFields = Array.isArray(fields) ? fields : [fields];\n        return (\n          actualFields.length > 0 && (\n            <DataListItem name={name} key={key} aria-labelledby=\"simple-item1\">\n              {actualFields.map(({ fields: fieldsToRender }, fieldsKey) => (\n                <DataListRow\n                  key={`${key}-${fieldsKey}`}\n                  fieldsKey={fieldsKey}\n                  label={label}\n                  fields={fieldsToRender}\n                  formOptions={formOptions}\n                />\n              ))}\n            </DataListItem>\n          )\n        );\n      })}\n    </DataList>\n  );\n};\n\nDataListLayout.propTypes = {\n  sections: PropTypes.array,\n  FieldProvider: PropTypes.any,\n  formOptions: PropTypes.any,\n  label: PropTypes.node,\n  name: PropTypes.string,\n  validate: PropTypes.any,\n  FormSpyProvider: PropTypes.any,\n};\n\nexport default DataListLayout;\n","export const DESCRIPTIVE_CHECKBOX = 'descriptiveCheckbox';\nexport const LOADER = 'loader';\nexport const DATA_LIST = 'section';\n","import { getApplicationSchema, saveValues as save } from './api';\nimport { ACTION_TYPES } from './constants';\nimport config from './config.json';\n\nexport const getEmailSchema = ({\n  application,\n  apiVersion,\n  resourceType = 'email-preference',\n  schema,\n  url,\n  apiName,\n}) => ({\n  type: ACTION_TYPES.GET_EMAIL_SCHEMA,\n  payload:\n    schema ||\n    getApplicationSchema(apiName || application, apiVersion, resourceType, url),\n  meta: {\n    appName: application,\n    notifications: {\n      rejected: {\n        variant: 'danger',\n        title: \"Request for user user's configuration failed\",\n        description: `User's configuration email for ${config['email-preference']?.[application]?.title} application does not exist.`,\n      },\n    },\n  },\n});\n\nexport const saveEmailValues = ({\n  application,\n  values,\n  apiVersion,\n  resourceType = 'email-preference',\n  url,\n  apiName,\n}) => ({\n  type: ACTION_TYPES.SAVE_EMAIL_SCHEMA,\n  payload: save(apiName || application, values, apiVersion, resourceType, url),\n  meta: {\n    appName: application,\n    title: config['email-preference']?.[application]?.title,\n    noError: true,\n  },\n});\n","import instance from '@redhat-cloud-services/frontend-components-utilities/files/interceptors';\nexport { instance };\n\ninstance.interceptors.response.use((response) => {\n  if (response?.config?.data) {\n    try {\n      return JSON.parse(response.config.data);\n    } catch (_e) {\n      return response.config.data;\n    }\n  }\n\n  return response;\n});\n\nexport const getApplicationSchema = (\n  application,\n  apiVersion = 'v1',\n  resourceType = '',\n  url\n) =>\n  instance.get(\n    `/api/${application}/${apiVersion}${url || `/user-config/${resourceType}`}`\n  );\n\nexport const saveValues = async (\n  application,\n  values,\n  apiVersion = 'v1',\n  resourceType = '',\n  url\n) =>\n  instance.post(\n    `/api/${application}/${apiVersion}${url || `/user-config/${resourceType}`}`,\n    values\n  );\n","import React from 'react';\nimport { Skeleton } from '@redhat-cloud-services/frontend-components';\nimport { getEmailSchema } from '../actions';\nimport { loaderField } from './constants';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\n\nexport const getSchema = (app) =>\n  !app || !app.loaded ? loaderField : app.schema;\n\nexport const visibilityFunctions = {\n  ...insights.chrome?.visibilityFunctions,\n  hasLoosePermissions: async (permissions = []) => {\n    const userPermissions = await insights.chrome.getUserPermissions();\n    return permissions.some((item) =>\n      userPermissions?.find(({ permission }) => permission === item)\n    );\n  },\n};\n\nexport const calculatePermissions = (permissions) =>\n  Promise.all(\n    [permissions]\n      .flat()\n      .map(({ method, args }) =>\n        visibilityFunctions?.[method]?.(...(args || []))\n      )\n  ).then((visibility) => visibility.every(Boolean));\n\nexport const calculateEmailConfig = (\n  { 'email-preference': config } = { 'email-preference': {} },\n  dispatch = () => {}\n) =>\n  Object.entries(config)\n    .map(\n      ([\n        key,\n        { permissions, url, apiName, apiVersion, localFile, ...rest },\n      ]) => {\n        const isVisible = permissions\n          ? calculatePermissions(permissions)\n          : true;\n        (async () => {\n          const schemaVisible = await Promise.resolve(isVisible);\n          if (schemaVisible) {\n            if (localFile) {\n              const newMapper = (await import(`../${localFile}`)).default;\n              dispatch(getEmailSchema({ schema: newMapper, application: key }));\n            } else {\n              dispatch(\n                getEmailSchema({ application: key, url, apiName, apiVersion })\n              );\n            }\n          }\n        })();\n\n        return {\n          [key]: {\n            localFile,\n            isVisible,\n            url,\n            apiName,\n            apiVersion,\n            ...rest,\n          },\n        };\n      }\n    )\n    .reduce((acc, curr) => ({ ...acc, ...curr }), {});\n\nexport const getSection = (\n  key,\n  schema = {},\n  storeSchema,\n  success = () => {}\n) => {\n  if (schema.isVisible === true) {\n    return {\n      label: schema?.title,\n      name: key,\n      fields: schema?.fields || getSchema(storeSchema),\n    };\n  } else {\n    Promise.resolve(schema.isVisible).then(success);\n\n    return {\n      label: <Skeleton />,\n      name: key,\n      fields: loaderField,\n    };\n  }\n};\n\nexport const concatApps = (apps = []) => {\n  return `${apps.slice(0, apps.length - (apps.length > 1)).join(', ')}${\n    apps.length >= 2 ? ` and ${apps[apps.length - 1]}` : ''\n  }`;\n};\n\nexport const distributeSuccessError = (promisses = []) => {\n  return Promise.allSettled(promisses.map(({ promise }) => promise)).then(\n    (apps) => {\n      return apps.reduce(\n        (acc, { value }, index) => ({\n          ...acc,\n          [value ? 'success' : 'error']: [\n            ...acc[value ? 'success' : 'error'],\n            promisses[index]?.meta?.title,\n          ],\n        }),\n        { success: [], error: [] }\n      );\n    }\n  );\n};\n\nexport const dispatchMessages = (\n  dispatch = () => undefined,\n  success = [],\n  error = []\n) => {\n  if (error.length !== 0 && success.length !== 0) {\n    dispatch(\n      addNotification({\n        dismissable: false,\n        variant: 'success',\n        title: `Email preferences for ${concatApps(\n          success\n        )} successfully saved`,\n      })\n    );\n\n    dispatch(\n      addNotification({\n        dismissable: false,\n        variant: 'danger',\n        title: `Email preferences for ${concatApps(\n          error\n        )} unsuccessfully saved`,\n      })\n    );\n  }\n\n  if (error.length === 0 && success.length !== 0) {\n    dispatch(\n      addNotification({\n        dismissable: false,\n        variant: 'success',\n        title: 'Preferences successfully saved',\n      })\n    );\n  }\n\n  if (error.length !== 0 && success.length === 0) {\n    dispatch(\n      addNotification({\n        dismissable: false,\n        variant: 'danger',\n        title: 'Preferences unsuccessfully saved',\n      })\n    );\n  }\n};\n","import { LOADER } from '../SmartComponents/FormComponents';\n\nexport const loaderField = [{ fields: [{ component: LOADER }] }];\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./email.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./email.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./email.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".pref-email .pref-email__subs-info{padding-bottom:0}.pref-email .pf-c-data-list{border:0}.pref-email .pf-c-data-list .pref-c-title{min-width:155px;max-width:155px}.pref-email .pf-c-data-list .pf-c-data-list__item:last-of-type{border:0}.pref-email .pf-c-data-list .pf-c-data-list__item-content.pref-u-condensed{padding-top:0;padding-bottom:0}.pref-email .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*{padding-bottom:var(--pf-global--spacer--md)}.pref-email .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*:last-child{padding-bottom:0}.pref-email .pf-c-data-list .pf-c-data-list__item-row{padding-left:0}.pref-email .pf-c-data-list .pref-email__info-user-email{padding-left:19px}.pref-email .pf-c-data-list .pref-email__info-user-email a{padding-left:var(--pf-global--gutter)}.pref-email .pref-u-bold{font-weight:var(--pf-global--FontWeight--bold)}.pref-email div.pref-u-condensed{padding-top:var(--pf-global--spacer--sm);padding-bottom:0}.pref-email .pref-email__form-button{margin-right:16px}@media screen and (max-width: 768px){.pref-email .pf-c-data-list .pref-email__info-user-email{padding-left:0}.pref-email .pf-c-data-list .pref-email__info-user-email.pf-c-data-list__cell span{padding-bottom:var(--pf-global--spacer--sm)}.pref-email .pf-c-data-list .pref-email__info-user-email>*{display:block}.pref-email .pf-c-data-list .pref-email__info-user-email a{padding-left:0}.pref-email .pref-email__info .pf-c-card__body .pf-l-flex>div:first-of-type{flex-grow:0;flex-basis:100%}.pref-email .pref-email__info .pf-c-card__body .pf-l-flex .pref-email_loader span{margin-left:0}.pref-email .pf-c-data-list__item:last-of-type .pf-c-data-list__cell:last-of-type{padding-top:var(--pf-global--spacer--lg)}.pref-email ul.pf-c-data-list .pf-c-data-list__item div.pf-c-data-list__cell.pref-u-condensed{padding-top:0;padding-bottom:0}}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./descriptiveCheckbox.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./descriptiveCheckbox.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./descriptiveCheckbox.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".pref-c-descriptive-checkbox span{display:block}.pref-c-descriptive-checkbox input.pf-c-check__input{align-self:start;margin-top:var(--pf-global--spacer--xs)}.pref-c-descriptive-checkbox .pref-c-checkbox-label{font-weight:var(--pf-global--FontWeight--bold)}.pref-c-descriptive-checkbox .pref-c-checkbox-label-error{color:var(--pf-global--danger-color--200)}.pref-c-descriptive-checkbox .pref-c-checkbox-description{font-size:var(--pf-global--FontSize--md);color:var(--pf-global--Color--100)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import React from 'react';\nimport { useFormApi } from '@data-driven-forms/react-form-renderer';\nimport PropTypes from 'prop-types';\nimport { Button } from '@patternfly/react-core';\nimport { isEmpty } from 'lodash';\nimport { FormSpy } from '@data-driven-forms/react-form-renderer';\nimport { ActionGroup } from '@patternfly/react-core';\n\nconst FormButtons = ({\n  dirtyFieldsSinceLastSubmit,\n  submitSucceeded,\n  pristine,\n}) => {\n  const { reset } = useFormApi();\n  const noChanges =\n    isEmpty(dirtyFieldsSinceLastSubmit) || (!submitSucceeded && pristine);\n  return (\n    <ActionGroup>\n      <Button\n        className=\"pref-email__form-button\"\n        type=\"submit\"\n        ouiaId=\"user-pref-primary-button\"\n        isDisabled={noChanges}\n        variant=\"primary\"\n      >\n        Save\n      </Button>\n      <Button\n        variant=\"link\"\n        ouiaId=\"user-pref-reset-button\"\n        isDisabled={noChanges}\n        onClick={() => reset()}\n      >\n        Cancel\n      </Button>\n    </ActionGroup>\n  );\n};\n\nFormButtons.propTypes = {\n  dirtyFieldsSinceLastSubmit: PropTypes.arrayOf(\n    PropTypes.shape({\n      [PropTypes.string]: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n        PropTypes.bool,\n      ]),\n    })\n  ),\n  submitSucceeded: PropTypes.bool,\n  pristine: PropTypes.bool,\n};\n\nconst FormButtonWithSpies = (formProps) => (\n  <FormSpy\n    subscription={{\n      pristine: true,\n      submitSucceeded: true,\n      dirtyFieldsSinceLastSubmit: true,\n    }}\n  >\n    {(props) => <FormButtons {...props} {...formProps} />}\n  </FormSpy>\n);\n\nexport default FormButtonWithSpies;\n","var map = {\n\t\"./App\": [\n\t\t276,\n\t\t9\n\t],\n\t\"./App.js\": [\n\t\t276,\n\t\t9\n\t],\n\t\"./App.scss\": [\n\t\t343,\n\t\t7\n\t],\n\t\"./PresentationalComponents/Email/Email\": [\n\t\t487,\n\t\t9\n\t],\n\t\"./PresentationalComponents/Email/Email.js\": [\n\t\t487,\n\t\t9\n\t],\n\t\"./PresentationalComponents/Email/email\": [\n\t\t599,\n\t\t7\n\t],\n\t\"./PresentationalComponents/Email/email.scss\": [\n\t\t599,\n\t\t7\n\t],\n\t\"./PresentationalComponents/shared/FormButtons\": [\n\t\t605,\n\t\t9\n\t],\n\t\"./PresentationalComponents/shared/FormButtons.js\": [\n\t\t605,\n\t\t9\n\t],\n\t\"./Routes\": [\n\t\t284,\n\t\t9\n\t],\n\t\"./Routes.js\": [\n\t\t284,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents\": [\n\t\t546,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/\": [\n\t\t546,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/DataListLayout\": [\n\t\t559,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/DataListLayout.js\": [\n\t\t559,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/DataListLayout.test\": [\n\t\t667,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/DataListLayout.test.js\": [\n\t\t667,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/DescriptiveCheckbox\": [\n\t\t557,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/DescriptiveCheckbox.js\": [\n\t\t557,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/Loader\": [\n\t\t558,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/Loader.js\": [\n\t\t558,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/Loader.test\": [\n\t\t752,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t10\n\t],\n\t\"./SmartComponents/FormComponents/Loader.test.js\": [\n\t\t752,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t10\n\t],\n\t\"./SmartComponents/FormComponents/__snapshots__/DataListLayout.test.js.snap\": [\n\t\t1003,\n\t\t7,\n\t\t20\n\t],\n\t\"./SmartComponents/FormComponents/__snapshots__/Loader.test.js.snap\": [\n\t\t1004,\n\t\t7,\n\t\t21\n\t],\n\t\"./SmartComponents/FormComponents/__snapshots__/descriptive-checkbox.test.js.snap\": [\n\t\t1005,\n\t\t7,\n\t\t22\n\t],\n\t\"./SmartComponents/FormComponents/componentTypes\": [\n\t\t573,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/componentTypes.js\": [\n\t\t573,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/descriptive-checkbox.test\": [\n\t\t753,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t11\n\t],\n\t\"./SmartComponents/FormComponents/descriptive-checkbox.test.js\": [\n\t\t753,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t11\n\t],\n\t\"./SmartComponents/FormComponents/descriptiveCheckbox\": [\n\t\t602,\n\t\t7\n\t],\n\t\"./SmartComponents/FormComponents/descriptiveCheckbox.scss\": [\n\t\t602,\n\t\t7\n\t],\n\t\"./SmartComponents/FormComponents/index\": [\n\t\t546,\n\t\t9\n\t],\n\t\"./SmartComponents/FormComponents/index.js\": [\n\t\t546,\n\t\t9\n\t],\n\t\"./Utilities\": [\n\t\t756,\n\t\t7,\n\t\t7\n\t],\n\t\"./Utilities.scss\": [\n\t\t756,\n\t\t7,\n\t\t7\n\t],\n\t\"./Utilities/__snapshots__/functions.test.js.snap\": [\n\t\t1006,\n\t\t7,\n\t\t23\n\t],\n\t\"./Utilities/asyncComponent\": [\n\t\t285,\n\t\t9\n\t],\n\t\"./Utilities/asyncComponent.js\": [\n\t\t285,\n\t\t9\n\t],\n\t\"./Utilities/constants\": [\n\t\t578,\n\t\t9\n\t],\n\t\"./Utilities/constants.js\": [\n\t\t578,\n\t\t9\n\t],\n\t\"./Utilities/functions\": [\n\t\t577,\n\t\t9\n\t],\n\t\"./Utilities/functions.js\": [\n\t\t577,\n\t\t9\n\t],\n\t\"./Utilities/functions.test\": [\n\t\t754,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t1,\n\t\t4,\n\t\t12\n\t],\n\t\"./Utilities/functions.test.js\": [\n\t\t754,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t1,\n\t\t4,\n\t\t12\n\t],\n\t\"./Utilities/getBaseName\": [\n\t\t648,\n\t\t9,\n\t\t3\n\t],\n\t\"./Utilities/getBaseName.js\": [\n\t\t648,\n\t\t9,\n\t\t3\n\t],\n\t\"./__mock__/schemaLoader\": [\n\t\t647,\n\t\t9,\n\t\t2,\n\t\t4\n\t],\n\t\"./__mock__/schemaLoader.js\": [\n\t\t647,\n\t\t9,\n\t\t2,\n\t\t4\n\t],\n\t\"./actions\": [\n\t\t574,\n\t\t9\n\t],\n\t\"./actions.js\": [\n\t\t574,\n\t\t9\n\t],\n\t\"./api\": [\n\t\t575,\n\t\t9\n\t],\n\t\"./api.js\": [\n\t\t575,\n\t\t9\n\t],\n\t\"./config.json\": [\n\t\t604,\n\t\t3\n\t],\n\t\"./constants\": [\n\t\t109,\n\t\t9\n\t],\n\t\"./constants.js\": [\n\t\t109,\n\t\t9\n\t],\n\t\"./data/general.json\": [\n\t\t1011,\n\t\t3,\n\t\t24\n\t],\n\t\"./data/unsubscribe.json\": [\n\t\t1012,\n\t\t3,\n\t\t25\n\t],\n\t\"./entry\": [\n\t\t339,\n\t\t9\n\t],\n\t\"./entry-dev\": [\n\t\t757,\n\t\t9,\n\t\t8,\n\t\t13\n\t],\n\t\"./entry-dev.js\": [\n\t\t757,\n\t\t9,\n\t\t8,\n\t\t13\n\t],\n\t\"./entry.js\": [\n\t\t339,\n\t\t9\n\t],\n\t\"./entry.test\": [\n\t\t758,\n\t\t9,\n\t\t3,\n\t\t14\n\t],\n\t\"./entry.test.js\": [\n\t\t758,\n\t\t9,\n\t\t3,\n\t\t14\n\t],\n\t\"./index.html\": [\n\t\t1014,\n\t\t7,\n\t\t26\n\t],\n\t\"./store\": [\n\t\t115,\n\t\t9\n\t],\n\t\"./store/\": [\n\t\t115,\n\t\t9\n\t],\n\t\"./store/email-preferences\": [\n\t\t280,\n\t\t9\n\t],\n\t\"./store/email-preferences.js\": [\n\t\t280,\n\t\t9\n\t],\n\t\"./store/index\": [\n\t\t115,\n\t\t9\n\t],\n\t\"./store/index.js\": [\n\t\t115,\n\t\t9\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(2).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 784;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}