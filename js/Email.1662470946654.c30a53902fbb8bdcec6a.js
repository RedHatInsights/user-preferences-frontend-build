"use strict";(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[542],{9837:(e,t,n)=>{n.d(t,{SM:()=>a,T:()=>c,ZP:()=>s});var r=n(40400);const a={name:"PficonSortCommonAscIcon",height:1024,width:1024,svgPath:"M256,768 L256,16 C256,7.2 248.9,0 240,0 L143.6,0 C134.8,0 128,7.2 128,16 L128,768 L17.1,767.8 C6.8,767.8 0,774.5 0,785.2 C0,791.1 1.2,792.2 3.7,795.3 L179.9,1019.3 C183,1022.3 187.4,1024 192,1024 C196.6,1024 200.6,1022.2 203.7,1019.3 L380.3,795.5 C389.1,784.3 381.1,768 366.9,768 L256,768 Z M528,768 C517.9,768 512,760.8 512,751.8 L512,656.2 C512,647.3 520.2,640 530.3,640 L1005.7,640 C1015.8,640 1024,647.2 1024,656.2 L1024,751.8 C1024,760.7 1015.8,768 1005.7,768 L528,768 Z M530.3,512 C520.1,512 512,503.8 512,493.7 L512,402.8 C512,392.7 520.2,384.5 530.3,384.5 L879.6,384.5 C889.7,384.5 897.9,392.7 897.9,402.8 L897.9,493.7 C897.9,503.8 889.7,512 879.6,512 L530.3,512 L530.3,512 Z M533,256 C521.3,256 512,247.9 512,238 L512,146 C512,136.1 521.4,128 533,128 L747,128 C758.6,128 768,136.1 768,146 L768,238 C768,247.9 758.6,256 747,256 L533,256 Z",yOffset:0,xOffset:0},c=(0,r.IU)(a),s=c},95288:(e,t,n)=>{n.d(t,{j9:()=>a,kJ:()=>c,ZP:()=>s});var r=n(40400);const a={name:"PficonSortCommonDescIcon",height:1024,width:1024,svgPath:"M256,768 L256,16 C256,7.2 248.9,0 240,0 L143.6,0 C134.8,0 128,7.2 128,16 L128,768 L17.1,767.8 C6.8,767.8 0,774.5 0,785.2 C0,791.1 1.2,792.2 3.7,795.3 L179.9,1019.3 C183,1022.3 187.4,1024 192,1024 C196.6,1024 200.6,1022.2 203.7,1019.3 L380.3,795.5 C389.1,784.3 381.1,768 366.9,768 L256,768 Z M528,128 L1005.7,128 C1015.8,128 1024,135.3 1024,144.2 L1024,239.8 C1024,248.8 1015.8,256 1005.7,256 L530.3,256 C520.2,256 512,248.7 512,239.8 L512,144.2 C512,135.2 517.9,128 528,128 L528,128 Z M530.3,384 L879.6,384 C889.7,384 897.9,392.2 897.9,402.3 L897.9,493.2 C897.9,503.3 889.7,511.5 879.6,511.5 L530.3,511.5 C520.2,511.5 512,503.3 512,493.2 L512,402.3 C512,392.2 520.1,384 530.3,384 L530.3,384 Z M533,640 L747,640 C758.6,640 768,648.1 768,658 L768,750 C768,759.9 758.6,768 747,768 L533,768 C521.4,768 512,759.9 512,750 L512,658 C512,648.1 521.3,640 533,640 L533,640 Z",yOffset:0,xOffset:0},c=(0,r.IU)(a),s=c},63539:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(4942),a=n(87462),c=n(45987),s=n(15861),l=n(29439),i=n(87757),o=n.n(i),u=n(77865),m=n.n(u),f=n(28216),p=n(41387),d=n(67850),C=(n(69385),n(74777),n(39136),n(79959),n(20898),n(45697)),L=n.n(C);n(47173),n(9837),n(95288);L().oneOf(["left","right"]),n(10549),n(95034),n(41626),n(54915),n(86931),n(37116),n(65674),n(1733),n(75747),n(39635),n(26854);var h=n(86350),E=n(48716),Z=n(39173),v=n(57849),b=n(62176),g=n(81797),O=n(25091),w=n(20679),y=n(78668),x=n(74209),P=n(56455);const j=function(e){var t=(0,u.useState)(!1),n=(0,l.Z)(t,2),r=n[0],a=n[1];return(0,u.useEffect)((function(){(0,s.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:a(!0);case 3:case"end":return t.stop()}}),t)})))()}),[]),r},k=function(){var e=insights.chrome.getEnvironment(),t=insights.chrome.isProd?"":"".concat("ci"===e?"qa":e,"."),n=function(){var e=(0,u.useState)({}),t=(0,l.Z)(e,2),n=t[0],r=t[1];return{isLoaded:j((0,s.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:t=e.sent,n=t.identity,r(n.user);case 5:case"end":return e.stop()}}),e)})))),currentUser:n}}(),r=n.isLoaded,a=n.currentUser;return m().createElement(v.Card,{className:"pref-email__info",ouiaId:"user-pref-info-card"},m().createElement(v.CardHeader,null,m().createElement(v.TextContent,null,m().createElement(v.Text,{component:v.TextVariants.h2},"Your information"))),m().createElement(v.CardBody,null,m().createElement(v.DataList,null,m().createElement(v.DataListItem,null,m().createElement(v.DataListItemRow,null,m().createElement(v.DataListItemCells,{className:"pref-u-condensed",dataListCells:[m().createElement(v.DataListCell,{isFilled:!1,className:"pref-c-title pref-u-bold pref-u-condensed",key:"email-title"},"Email address"),m().createElement(v.DataListCell,{isFilled:!0,key:"email-value",className:"pref-email__info-user-email pref-u-condensed"},r?m().createElement(u.Fragment,null,m().createElement("span",{className:"pf-u-mr-md"},a.email),m().createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.".concat(t,"redhat.com/wapps/ugc/protected/emailChange.html")},"Not correct?")):m().createElement(P.Z,{size:"lg"}))]}))))))};var S=n(17812),I=["unsubscribe"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const D=function(){var e,t=(0,f.I0)(),n=(0,u.useState)({}),i=(0,l.Z)(n,2),C=i[0],L=i[1],P=j((0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return(0,S.z2)(S.jP),e.t0=L,e.next=6,(0,y.vF)(O,t);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})))),N=(0,f.v9)((function(e){return e.emailPreferences})),D=function(){var e=(0,s.Z)(o().mark((function e(n){var r,a,s,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.unsubscribe,r=(0,c.Z)(n,I),a=Object.entries(C).filter((function(e){return!0===(0,l.Z)(e,2)[1].isVisible})).map((function(e){var n,a,c=(0,l.Z)(e,2),s=c[0],i=c[1],o=i.localFile,u=i.schema,m=i.url,f=i.apiName;if(!o&&!u&&null!=N&&null!==(n=N[s])&&void 0!==n&&n.schema&&Object.keys(null==N||null===(a=N[s])||void 0===a?void 0:a.schema).length>0){var p=(0,w.fj)({application:s,values:r,url:m,apiName:f});return t(p),{promise:p.payload,meta:p.meta}}})).filter(Boolean),e.next=4,(0,y.d9)(a);case 4:s=e.sent,i=s.success,u=s.error,(0,y.Sp)(t,i,u);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m().createElement(m().Fragment,null,m().createElement(E.Z,null,m().createElement(Z.Z,{title:"Email preferences"})),m().createElement(h.Z,{className:"pref-email"},m().createElement(v.Stack,{hasGutter:!0},m().createElement(v.StackItem,null,m().createElement(k,null)),m().createElement(v.StackItem,null,m().createElement(v.Card,{ouiaId:"user-pref-email-subscriptions-card"},m().createElement(v.CardHeader,{className:"pf-u-pb-0"},m().createElement(v.TextContent,null,m().createElement(v.Text,{component:v.TextVariants.h2},"Email subscriptions"),m().createElement(v.Text,{component:v.TextVariants.p},"Select the emails you want to receive."))),m().createElement(v.CardBody,{className:"pref-email_form"},P?m().createElement(b.Z,{componentMapper:_(_({},p.ZP),{},(e={},(0,r.Z)(e,g.L5,g.eU),(0,r.Z)(e,g.gI,g.aN),(0,r.Z)(e,g.GZ,g.RN),e)),FormTemplate:function(e){return m().createElement(d.ZP,(0,a.Z)({},e,{FormButtons:x.Z}))},schema:{fields:[{name:"email-preferences",component:g.GZ,sections:Object.entries(C).map((function(e){var t,n,r=(0,l.Z)(e,2);return t=r[0],n=r[1],(0,y.If)(t,n,null==N?void 0:N[t],(function(e){var n=(0,a.Z)({},C);!1===e?delete n[t]:n[t]=_(_({},n[t]),{},{isVisible:e}),L(n)}))}))}]},onSubmit:D}):m().createElement(v.Bullseye,null,m().createElement(v.Spinner,null))))))))}}}]);
//# sourceMappingURL=../sourcemaps/Email.cf0c8980e664d11b8dfe96264742c744.js.map