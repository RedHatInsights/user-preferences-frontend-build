"use strict";(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[807],{74209:(e,t,r)=>{r.d(t,{Z:()=>v});var n=r(87462),a=r(4942),i=r(41609),o=r.n(i),c=r(77865),l=r.n(c),s=r(48880),u=r(76429),p=r(45697),d=r.n(p),f=r(57849),m=function(e){var t=e.dirtyFieldsSinceLastSubmit,r=e.submitSucceeded,n=e.pristine,a=(0,s.default)().reset,i=o()(t)||!r&&n;return l().createElement(f.ActionGroup,null,l().createElement(f.Button,{className:"pref-email__form-button",type:"submit",ouiaId:"user-pref-primary-button",isDisabled:i,variant:"primary"},"Save"),l().createElement(f.Button,{variant:"link",ouiaId:"user-pref-reset-button",isDisabled:i,onClick:function(){return a()}},"Cancel"))};m.propTypes={dirtyFieldsSinceLastSubmit:d().arrayOf(d().shape((0,a.Z)({},d().string,d().oneOfType([d().string,d().number,d().bool])))),submitSucceeded:d().bool,pristine:d().bool};const v=function(e){return l().createElement(u.Z,{subscription:{pristine:!0,submitSucceeded:!0,dirtyFieldsSinceLastSubmit:!0}},(function(t){return l().createElement(m,(0,n.Z)({},t,e))}))}},81797:(e,t,r)=>{r.d(t,{GZ:()=>A,L5:()=>j,RN:()=>_,eU:()=>E,gI:()=>w,aN:()=>P});var n=r(87462),a=r(4942),i=r(45987),o=r(77865),c=r.n(o),l=r(57849),s=r(94184),u=r.n(s),p=r(45697),d=r.n(p),f=r(48880),m=r(41693),v=r(11085),y=["onChange","checked"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(e){var t=(0,m.Z)(h(h({},e),{},{type:"checkbox"})),r=t.label,a=t.title,o=t.description,s=t.isDanger,p=t.isGlobal,d=t.checkedWarning,b=t.input,g=b.onChange,E=b.checked,O=(0,i.Z)(b,y),k=(0,f.default)();return c().createElement(l.Checkbox,(0,n.Z)({},O,{isChecked:E,id:"descriptive-checkbox-".concat(O.name),onChange:function(){p?k.batch((function(){k.getRegisteredFields().forEach((function(e){"boolean"==typeof k.getFieldState(e).value&&k.change(e,!1)}))})):k.change("unsubscribe.from-all",!1),g.apply(void 0,arguments)},"data-type":"descriptive-checkbox",className:"pref-c-descriptive-checkbox",label:c().createElement("span",{className:u()("pref-c-checkbox-label",{"pref-c-checkbox-label-error":s||p})},r||a),description:c().createElement("div",null,o&&c().createElement("span",{className:"pref-c-checkbox-description"},o),E&&d&&c().createElement("span",{className:"pref-c-checkbox-warning"},c().createElement(v.ExclamationTriangleIcon,null)," ",d))}))};g.propTypes={FieldProvider:d().any,formOptions:d().any,name:d().string,label:d().string,title:d().string,description:d().string,isDanger:d().bool,isGlobal:d().bool},g.defaultProps={name:"",label:"",isDanger:!1};const E=g;var O=r(56455),k=["name","size","FieldProvider","validate","FormSpyProvider","formOptions"],S=function(e){e.name;var t=e.size,r=(e.FieldProvider,e.validate,e.FormSpyProvider,e.formOptions,(0,i.Z)(e,k));return c().createElement("div",r,c().createElement(O.Z,{size:t}))};S.propTypes={FieldProvider:d().any,formOptions:d().any,FormSpyProvider:d().any,validate:d().any,name:d().string,size:d().string},S.defaultProps={name:"",size:"md"};const P=S;var Z=r(15671),C=r(43144),F=r(97326),N=r(60136),I=r(82963),T=r(61120);var x=function(e){(0,N.Z)(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,T.Z)(t);if(r){var a=(0,T.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,I.Z)(this,e)});function i(){var e;(0,Z.Z)(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),(0,a.Z)((0,F.Z)(e),"state",{hasError:!1}),e}return(0,C.Z)(i,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:t})}},{key:"render",value:function(){var e=this.props,t=e.fieldsKey,r=e.label,n=e.fields,a=e.formOptions,i=this.state.hasError;return c().createElement(l.DataListItemRow,null,c().createElement(l.DataListItemCells,{dataListCells:[c().createElement(l.DataListCell,{isFilled:!1,className:"pref-c-title pref-u-bold",key:"".concat(t,"-title")},0===t?r:""),c().createElement(l.DataListCell,{isFilled:!0,key:"".concat(t,"-content")},i?"Error while mapping fields, please check your schema if it has valid component types":null==a?void 0:a.renderForm(n,a))]}))}}]),i}(o.Component);x.propTypes={fieldsKey:d().oneOfType([d().string,d().number]),fields:d().array,FieldProvider:d().any,formOptions:d().any,label:d().node,name:d().string,validate:d().any,FormSpyProvider:d().any};var D=function(e){var t=(0,m.Z)(e),r=t.sections,a=t.label,i=t.name,o=(0,f.default)();return c().createElement(l.DataList,(0,n.Z)({"aria-label":a||i},e),r.map((function(e,t){var r=e.label,n=e.fields,a=Array.isArray(n)?n:[n];return a.length>0&&c().createElement(l.DataListItem,{name:i,key:t,"aria-labelledby":"simple-item1"},a.map((function(e,n){var a=e.fields;return c().createElement(x,{key:"".concat(t,"-").concat(n),fieldsKey:n,label:r,fields:a,formOptions:o})})))})))};D.propTypes={sections:d().array,FieldProvider:d().any,formOptions:d().any,label:d().node,name:d().string,validate:d().any,FormSpyProvider:d().any};const _=D;var j="descriptiveCheckbox",w="loader",A="section"},20679:(e,t,r)=>{r.d(t,{Re:()=>m,ux:()=>d,fj:()=>v,G1:()=>f});var n=r(15861),a=r(87757),i=r.n(a),o=r(77460);o.ZP.interceptors.response.use((function(e){var t;if(null!=e&&null!==(t=e.config)&&void 0!==t&&t.data)try{return JSON.parse(e.config.data)}catch(t){return e.config.data}return e}));var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v1",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0;return o.ZP.get("/api/".concat(e,"/").concat(t).concat(n||"/user-config/".concat(r)))},l=function(){var e=(0,n.Z)(i().mark((function e(t,r){var n,a,c,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:"v1",a=l.length>3&&void 0!==l[3]?l[3]:"",c=l.length>4?l[4]:void 0,e.abrupt("return",o.ZP.post("/api/".concat(t,"/").concat(n).concat(c||"/user-config/".concat(a)),r));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),s=r(58061),u=r(25091),p=function(e){var t;return null===(t=u["notification-preference"])||void 0===t?void 0:t[e]},d=function(e){var t,r,n=e.bundleName,a=e.apiVersion;return{type:s.aI.GET_NOTIFICATION_SCHEMA,payload:c(null===(t=p(n))||void 0===t?void 0:t.application,a,null===(r=p(n))||void 0===r?void 0:r.resourceType),meta:{bundleName:n,notifications:{rejected:{variant:"danger",title:"Request for user's configuration failed",description:"User's configuration notification for this bundle does not exist."}}}}},f=function(e){var t,r,n=e.bundleName,a=e.values,i=e.apiVersion;return{type:s.aI.SAVE_NOTIFICATION_SCHEMA,payload:l(null===(t=p(n))||void 0===t?void 0:t.application,a,i,null===(r=p(n))||void 0===r?void 0:r.resourceType),meta:{bundleName:n,noError:!0}}},m=function(e){var t,r,n=e.application,a=e.apiVersion,i=e.resourceType,o=void 0===i?"email-preference":i,l=e.schema,p=e.url,d=e.apiName;return{type:s.aI.GET_EMAIL_SCHEMA,payload:l||c(d||n,a,o,p),meta:{appName:n,notifications:{rejected:{variant:"danger",title:"Request for user's configuration failed",description:"User's configuration email for ".concat(null===(t=u["email-preference"])||void 0===t||null===(r=t[n])||void 0===r?void 0:r.title," application does not exist.")}}}}},v=function(e){var t,r,n=e.application,a=e.values,i=e.apiVersion,o=e.resourceType,c=void 0===o?"email-preference":o,p=e.url,d=e.apiName;return{type:s.aI.SAVE_EMAIL_SCHEMA,payload:l(d||n,a,i,c,p),meta:{appName:n,title:null===(t=u["email-preference"])||void 0===t||null===(r=t[n])||void 0===r?void 0:r.title,noError:!0}}}}}]);