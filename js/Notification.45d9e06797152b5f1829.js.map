{"version":3,"sources":["webpack://insights-frontend-starter-app/./src/PresentationalComponents/Notification/notification.scss","webpack://insights-frontend-starter-app/./src/PresentationalComponents/Notification/Notification.js","webpack://insights-frontend-starter-app/./src/PresentationalComponents/Notification/notification.scss?c36f"],"names":["___CSS_LOADER_EXPORT___","push","module","id","bundleName","useParams","dispatch","useDispatch","store","useSelector","notificationPreferences","useEffect","register","getNotificationSchema","useMemo","loaded","schema","fields","sections","unsubscribe","isLoaded","saveValues","useCallback","values","action","saveNotificationValues","payload","addNotification","dismissable","variant","title","className","Stack","hasGutter","StackItem","Card","ouiaId","CardHeader","TextContent","Text","component","TextVariants","CardBody","componentMapper","DESCRIPTIVE_CHECKBOX","DescriptiveCheckbox","LOADER","Loader","DATA_LIST","DataListLayout","FormTemplate","props","FormButtons","onSubmit","Bullseye","Spinner","update","hot","invalidate","oldLocals","accept","a","b","isNamedExport","p","isEqualLocals","dispose"],"mappings":"+MAGIA,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,84EAA+4E,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,2EAA2E,MAAQ,GAAG,SAAW,+eAA+e,eAAiB,CAAC,4iEAA4iE,WAAa,MAE9mK,W,05BCiJA,QAjHqB,WAAM,MACjBC,GAAeC,iBAAfD,WACFE,GAAWC,mBACXC,GAAQC,kBACZ,qBAAGC,4BAGLC,gBAAU,YACRC,QAASF,QACR,KAEHC,gBAAU,WACJP,GACFE,GAASO,QAAsB,CAAET,kBAElC,CAACA,IAfqB,OAiBIU,cAAQ,WACnC,GAAIN,WAAOO,OAAQ,CACjB,IAAMC,EAAS,EAAH,GAAQR,EAAMQ,QAO1B,OANAA,EAAOC,QAAP,OAAoBD,EAAOC,QAC3BD,EAAOC,OAAO,GAAGC,UAAjB,OAAgCF,EAAOC,OAAO,GAAGC,UACjDF,EAAOC,OAAO,GAAGC,SAASjB,KAAK,CAC7BgB,OAAQE,IAGH,CACLC,UAAU,EACVJ,OAAQA,GAGZ,MAAO,CACLI,UAAU,EACVJ,OAAQ,MAET,CAACR,IAlBIY,EAjBiB,EAiBjBA,SAAUJ,EAjBO,EAiBPA,OAoBZK,GAAaC,iBAAW,mCAC5B,gGAASH,YAAgBI,GAAzB,0BACQC,GAASC,QAAuB,CAAErB,aAAYmB,WACpDjB,EAASkB,GAFX,kBAIUA,EAAOE,QAJjB,OAKIpB,GACEqB,QAAgB,CACdC,aAAa,EACbC,QAAS,UACTC,MAAO,iDATf,gDAaIxB,GACEqB,QAAgB,CACdC,aAAa,EACbC,QAAS,SACTC,MAAO,mDAjBf,yDAD4B,sDAuB5B,CAAC1B,IAGH,OACE,kBAAC,aAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAiB0B,MAAM,2BAEzB,kBAAC,IAAD,CAAMC,UAAU,qBACd,kBAAC,EAAAC,MAAD,CAAOC,WAAS,GACd,kBAAC,EAAAC,UAAD,KACE,kBAAC,IAAD,OAEF,kBAAC,EAAAA,UAAD,KACE,kBAAC,EAAAC,KAAD,CAAMC,OAAO,6CACX,kBAAC,EAAAC,WAAD,CAAYN,UAAU,aACpB,kBAAC,EAAAO,YAAD,KACE,kBAAC,EAAAC,KAAD,CAAMC,UAAWC,mBAAjB,iBACA,kBAAC,EAAAF,KAAD,CAAMC,UAAWC,kBAAjB,oEAMJ,kBAAC,EAAAC,SAAD,CAAUX,UAAU,0BACjBX,EACC,kBAAC,IAAD,CACEuB,gBAAe,OACVA,MADU,mBAEZC,KAAuBC,OAFX,SAGZC,KAASC,OAHG,SAIZC,KAAYC,MAJA,IAMfC,aAAc,SAACC,GAAD,OACZ,kBAAC,MAAD,UAAkBA,EAAlB,CAAyBC,YAAaA,QAExCpC,OAAQA,EACRqC,SAAUhC,IAGZ,kBAAC,EAAAiC,SAAD,KACE,kBAAC,EAAAC,QAAD,e,gECpIhBC,EAAS,IAAI,UALH,CAEd,OAAiB,OACjB,WAAoB,IAMlB,IAAK,kBAAkBtD,EAAOuD,IAAIC,WAAY,CAC5C,IA+BIC,EAAY,iBAEhBzD,EAAOuD,IAAIG,OACT,OACA,eAnCkB,SAAuBC,EAAGC,EAAGC,GACnD,IAAKF,GAAKC,GAAKD,IAAMC,EACnB,OAAO,EAGT,IAAIE,EAEJ,IAAKA,KAAKH,EACR,GAKIA,EAAEG,KAAOF,EAAEE,GACb,OAAO,EAIX,IAAKA,KAAKF,EACR,IAKKD,EAAEG,GACL,OAAO,EAIX,OAAO,EAOIC,CAAcN,EAAW,mBAMxBA,EAAY,iBAEZH,EAAO,YAPLtD,EAAOuD,IAAIC,gBAYzBxD,EAAOuD,IAAIS,SAAQ,WACjBV,OAIW","file":"js/Notification.45d9e06797152b5f1829.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".user-preferences .pref-notification .pref-email__subs-info{padding-bottom:0}.user-preferences .pref-notification .pf-c-data-list{border:0}.user-preferences .pref-notification .pf-c-data-list .pref-c-title{min-width:155px;max-width:155px}.user-preferences .pref-notification .pf-c-data-list .pf-c-data-list__item:last-of-type{border:0}.user-preferences .pref-notification .pf-c-data-list .pf-c-data-list__item-content.pref-u-condensed{padding-top:0;padding-bottom:0}.user-preferences .pref-notification .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*{padding-bottom:var(--pf-global--spacer--md)}.user-preferences .pref-notification .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*:last-child{padding-bottom:0}.user-preferences .pref-notification .pf-c-data-list .pf-c-data-list__item-row{padding-left:0}.user-preferences .pref-notification .pf-c-data-list .pref-email__info-user-email{padding-left:var(--pf-global--spacer--lg)}.user-preferences .pref-notification .pf-c-data-list .pref-email__info-user-email a{padding-left:var(--pf-global--gutter)}.user-preferences .pref-notification .pref-u-bold{font-weight:var(--pf-global--FontWeight--bold)}.user-preferences .pref-notification div.pref-u-condensed{padding-top:var(--pf-global--spacer--sm);padding-bottom:0}.user-preferences .pref-notification .pref-email__form-button{margin-right:var(--pf-global--spacer--md)}@media screen and (max-width: 768px){.user-preferences .pref-notification .pf-c-data-list .pref-email__info-user-email{padding-left:0}.user-preferences .pref-notification .pf-c-data-list .pref-email__info-user-email.pf-c-data-list__cell span{padding-bottom:var(--pf-global--spacer--sm)}.user-preferences .pref-notification .pf-c-data-list .pref-email__info-user-email>*{display:block}.user-preferences .pref-notification .pf-c-data-list .pref-email__info-user-email a{padding-left:0}.user-preferences .pref-notification .pref-email__info .pf-c-card__body .pf-l-flex>div:first-of-type{flex-grow:0;flex-basis:100%}.user-preferences .pref-notification .pref-email__info .pf-c-card__body .pf-l-flex .pref-email_loader span{margin-left:0}.user-preferences .pref-notification .pf-c-data-list__item:last-of-type .pf-c-data-list__cell:last-of-type{padding-top:var(--pf-global--spacer--lg)}.user-preferences .pref-notification ul.pf-c-data-list .pf-c-data-list__item div.pf-c-data-list__cell.pref-u-condensed{padding-top:0;padding-bottom:0}}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/PresentationalComponents/Notification/notification.scss\"],\"names\":[],\"mappings\":\"AAAA,4DAC0C,gBAAgB,CAD1D,qDAC8F,QAAQ,CADtG,mEACwJ,eAAe,CAAC,eAAe,CADvL,wFAC8P,QAAQ,CADtQ,oGACyV,aAAa,CAAC,gBAAgB,CADvX,2GACid,2CAA2C,CAD5f,sHACimB,gBAAgB,CADjnB,+EAC+qB,cAAc,CAD7rB,kFAC8vB,yCAAyC,CADvyB,oFAC02B,qCAAqC,CAD/4B,kDACg7B,8CAA8C,CAD99B,0DACugC,wCAAwC,CAAC,gBAAgB,CADhkC,8DAC6mC,yCAAyC,CAAC,qCADvpC,kFAC4vC,cAAc,CAD1wC,4GACq2C,2CAA2C,CADh5C,oFACm9C,aAAa,CADh+C,oFACmiD,cAAc,CADjjD,qGACqoD,WAAW,CAAC,eAAe,CADhqD,2GAC0vD,aAAa,CADvwD,2GACi2D,wCAAwC,CADz4D,uHAC++D,aAAa,CAAC,gBAAgB,CAAE\",\"sourcesContent\":[\".user-preferences{\\n.pref-notification .pref-email__subs-info{padding-bottom:0}.pref-notification .pf-c-data-list{border:0}.pref-notification .pf-c-data-list .pref-c-title{min-width:155px;max-width:155px}.pref-notification .pf-c-data-list .pf-c-data-list__item:last-of-type{border:0}.pref-notification .pf-c-data-list .pf-c-data-list__item-content.pref-u-condensed{padding-top:0;padding-bottom:0}.pref-notification .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*{padding-bottom:var(--pf-global--spacer--md)}.pref-notification .pf-c-data-list .pf-c-data-list__item-content .pf-c-data-list__cell>*:last-child{padding-bottom:0}.pref-notification .pf-c-data-list .pf-c-data-list__item-row{padding-left:0}.pref-notification .pf-c-data-list .pref-email__info-user-email{padding-left:var(--pf-global--spacer--lg)}.pref-notification .pf-c-data-list .pref-email__info-user-email a{padding-left:var(--pf-global--gutter)}.pref-notification .pref-u-bold{font-weight:var(--pf-global--FontWeight--bold)}.pref-notification div.pref-u-condensed{padding-top:var(--pf-global--spacer--sm);padding-bottom:0}.pref-notification .pref-email__form-button{margin-right:var(--pf-global--spacer--md)}@media screen and (max-width: 768px){.pref-notification .pf-c-data-list .pref-email__info-user-email{padding-left:0}.pref-notification .pf-c-data-list .pref-email__info-user-email.pf-c-data-list__cell span{padding-bottom:var(--pf-global--spacer--sm)}.pref-notification .pf-c-data-list .pref-email__info-user-email>*{display:block}.pref-notification .pf-c-data-list .pref-email__info-user-email a{padding-left:0}.pref-notification .pref-email__info .pf-c-card__body .pf-l-flex>div:first-of-type{flex-grow:0;flex-basis:100%}.pref-notification .pref-email__info .pf-c-card__body .pf-l-flex .pref-email_loader span{margin-left:0}.pref-notification .pf-c-data-list__item:last-of-type .pf-c-data-list__cell:last-of-type{padding-top:var(--pf-global--spacer--lg)}.pref-notification ul.pf-c-data-list .pf-c-data-list__item div.pf-c-data-list__cell.pref-u-condensed{padding-top:0;padding-bottom:0}}\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import YourInformation from '../shared/YourInformation';\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport './notification.scss';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { useParams } from 'react-router-dom';\nimport {\n  Bullseye,\n  Card,\n  CardBody,\n  CardHeader,\n  Spinner,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/component-mapper';\nimport {\n  DATA_LIST,\n  DataListLayout,\n  DESCRIPTIVE_CHECKBOX,\n  DescriptiveCheckbox,\n  Loader,\n  LOADER,\n} from '../../SmartComponents/FormComponents';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport FormButtons from '../shared/FormButtons';\nimport FormRender from '@data-driven-forms/react-form-renderer/form-renderer';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getNotificationSchema, saveNotificationValues } from '../../actions';\nimport { notificationPreferences, register } from '../../store';\nimport unsubscribe from '../../config/data/unsubscribe.json';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nconst Notification = () => {\n  const { bundleName } = useParams();\n  const dispatch = useDispatch();\n  const store = useSelector(\n    ({ notificationPreferences }) => notificationPreferences\n  );\n\n  useEffect(() => {\n    register(notificationPreferences);\n  }, []);\n\n  useEffect(() => {\n    if (bundleName) {\n      dispatch(getNotificationSchema({ bundleName }));\n    }\n  }, [bundleName]);\n\n  const { isLoaded, schema } = useMemo(() => {\n    if (store?.loaded) {\n      const schema = { ...store.schema };\n      schema.fields = [...schema.fields];\n      schema.fields[0].sections = [...schema.fields[0].sections];\n      schema.fields[0].sections.push({\n        fields: unsubscribe,\n      });\n\n      return {\n        isLoaded: true,\n        schema: schema,\n      };\n    }\n    return {\n      isLoaded: false,\n      schema: [],\n    };\n  }, [store]);\n\n  const saveValues = useCallback(\n    async ({ unsubscribe, ...values }) => {\n      const action = saveNotificationValues({ bundleName, values });\n      dispatch(action);\n      try {\n        await action.payload;\n        dispatch(\n          addNotification({\n            dismissable: false,\n            variant: 'success',\n            title: `Notification preferences successfully saved`,\n          })\n        );\n      } catch (e) {\n        dispatch(\n          addNotification({\n            dismissable: false,\n            variant: 'danger',\n            title: `Notification preferences unsuccessfully saved`,\n          })\n        );\n      }\n    },\n    [bundleName]\n  );\n\n  return (\n    <React.Fragment>\n      <PageHeader>\n        <PageHeaderTitle title=\"Notification Insights\" />\n      </PageHeader>\n      <Main className=\"pref-notification\">\n        <Stack hasGutter>\n          <StackItem>\n            <YourInformation />\n          </StackItem>\n          <StackItem>\n            <Card ouiaId=\"user-pref-notification-subscriptions-card\">\n              <CardHeader className=\"pf-u-pb-0\">\n                <TextContent>\n                  <Text component={TextVariants.h2}>Notifications</Text>\n                  <Text component={TextVariants.p}>\n                    Select the cloud.redhat.com notifications you want to\n                    receive.\n                  </Text>\n                </TextContent>\n              </CardHeader>\n              <CardBody className=\"pref-notification_form\">\n                {isLoaded ? (\n                  <FormRender\n                    componentMapper={{\n                      ...componentMapper,\n                      [DESCRIPTIVE_CHECKBOX]: DescriptiveCheckbox,\n                      [LOADER]: Loader,\n                      [DATA_LIST]: DataListLayout,\n                    }}\n                    FormTemplate={(props) => (\n                      <FormTemplate {...props} FormButtons={FormButtons} />\n                    )}\n                    schema={schema}\n                    onSubmit={saveValues}\n                  />\n                ) : (\n                  <Bullseye>\n                    <Spinner />\n                  </Bullseye>\n                )}\n              </CardBody>\n            </Card>\n          </StackItem>\n        </Stack>\n      </Main>\n    </React.Fragment>\n  );\n};\n\nexport default Notification;\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./notification.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./notification.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};"],"sourceRoot":""}